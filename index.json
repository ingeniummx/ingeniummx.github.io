[{"categories":["Electr√≥nica","IoT","Redes industriales"],"contents":"El protocolo MQTT (Message Queuing Telemetry Transport) se ha convertido en el idioma com√∫n de los proyectos IoT, tanto dom√©sticos como industriales. Es ligero, funciona bien con enlaces inestables y permite que sensores, microcontroladores, dashboards y servicios en la nube intercambien datos sin enredarse en sockets manuales. Su modelo publish/subscribe gira alrededor de un broker que recibe, filtra y entrega mensajes, de los clientes que publican o se suscriben, y de los temas (topics) que organizan la informaci√≥n con rutas jer√°rquicas como ingenium/sala/temperatura.\nArquitectura publish/subscribe (sin acoplamientos duros) A diferencia de HTTP, el emisor no conoce al receptor. El broker se encarga de recibir lo que publica un cliente y reenviarlo a todos los suscritos al mismo topic.\nPLACEHOLDER IMG:\u0026nbsp; \"mqtt-topology.png\" ‚Äî Diagrama publish/subscribe con nodos, broker central y topics Topolog√≠a t√≠pica: sensores publican, dashboards y actuadores se suscriben.\nGracias a esa capa intermedia es posible escalar con facilidad, sumar clientes sin tocar el c√≥digo de los dem√°s y separar responsabilidades; un ESP32 puede limitarse a enviar datos mientras que la visualizaci√≥n corre en otro entorno. Tambi√©n facilita la integraci√≥n de sistemas heterog√©neos, desde PLC y Raspberry Pi hasta servicios en la nube, bajo un mismo esquema de temas.\nC√≥mo fluye un mensaje MQTT El flujo t√≠pico empieza con un cliente que publica en un tema espec√≠fico. El broker recibe la carga, la etiqueta con el nombre del topic correspondiente y la reenv√≠a a todos los clientes suscritos. Cada suscriptor decide qu√© hacer con el payload: actualizar una gr√°fica, encender un relevador o guardar el dato en una base de datos. Este ciclo puede repetirse en milisegundos y acepta metadatos como la calidad de servicio (QoS) y la retenci√≥n de mensajes.\nNiveles de QoS (Quality of Service) MQTT define tres niveles de QoS para balancear fiabilidad y consumo de red. El nivel 0 entrega un mensaje una sola vez sin confirmaci√≥n, por lo que resulta ideal en telemetr√≠a frecuente donde perder un paquete no afecta. El nivel 1 solicita confirmaciones al destinatario y reenv√≠a si no las recibe, lo que implica dise√±ar clientes idempotentes para ignorar duplicados. El nivel 2 a√±ade un apret√≥n de manos en cuatro pasos que garantiza una entrega √∫nica a costa de mayor latencia, reservado para escenarios cr√≠ticos.\nRetenci√≥n, sesiones y last will El broker puede almacenar el √∫ltimo mensaje de un tema mediante la funci√≥n retained message, que resulta √∫til para estados como ingenium/lab/puerta. Tambi√©n admite la persistencia de sesi√≥n para que los clientes recuperen sus suscripciones despu√©s de una reconexi√≥n. Por √∫ltimo, ofrece el mecanismo Last Will \u0026amp; Testament (LWT) que se publica autom√°ticamente si un cliente se desconecta de forma inesperada y as√≠ se avisa al resto del sistema.\nMosquitto: el broker libre m√°s popular Eclipse Mosquitto es un broker MQTT open source, ligero y con paquetes listos para Linux, Windows y contenedores Docker. Es una elecci√≥n ideal para instalarlo en una Raspberry Pi, en un servidor casero o incluso en ambientes de producci√≥n. En sistemas Debian o Ubuntu basta con actualizar los repositorios, instalar los paquetes mosquitto y mosquitto-clients, y habilitar el servicio para que el broker comience a escuchar en tcp://localhost:1883. Las herramientas que acompa√±an al paquete permiten realizar pruebas inmediatas al suscribirse y publicar mensajes en un mismo equipo.\nSeguridad b√°sica (no lo dejes abierto) Cuando Mosquitto se expone fuera de la red local conviene activar autenticaci√≥n con usuarios y contrase√±as generadas con mosquitto_passwd, habilitar TLS con certificados y configurar listas de control de acceso que limiten los temas disponibles para cada cliente. Estas capas evitan que un broker abierto se convierta en una puerta de entrada a la infraestructura.\nPLACEHOLDER IMG:\u0026nbsp; \"mosquitto-security-layers.png\" ‚Äî Esquema con autenticaci√≥n, TLS y ACLs Capas m√≠nimas cuando el broker sale a Internet.\nBuenas pr√°cticas para tus proyectos IoT Conviene definir desde el inicio una jerarqu√≠a de temas clara, por ejemplo ingenium/\u0026lt;√°rea\u0026gt;/\u0026lt;dispositivo\u0026gt;/\u0026lt;sensor\u0026gt;, y documentar el formato del payload para mantener la coherencia entre clientes. Los mensajes retenidos resultan valiosos al reportar estados cr√≠ticos, mientras que el nivel de QoS 1 asegura que los comandos importantes no se pierdan. El broker ofrece m√©tricas que pueden integrarse con herramientas como Prometheus o Telegraf, y se puede automatizar su despliegue mediante Docker o servicios de systemd para garantizar que el sistema regrese a la vida despu√©s de un corte el√©ctrico.\nConclusi√≥n MQTT es la pieza que conecta sensores, actuadores y servicios sin que dependan unos de otros. Con un broker como Mosquitto puedes empezar r√°pido, crecer a decenas de dispositivos y reforzar la seguridad sin cambiar tu c√≥digo base. Ideal para el proyecto Ingenium MX cuando necesites una columna vertebral de comunicaciones ligera y confiable.\n","date":"September 18, 2025","hero":"/images/default-hero.jpg","permalink":"https://ingeniummx.github.io/posts/electronica/qu%C3%A9-es-mqtt-y-por-qu%C3%A9-se-usa-tanto-en-iot/","summary":"\u003cp\u003eEl \u003cstrong\u003eprotocolo MQTT (Message Queuing Telemetry Transport)\u003c/strong\u003e se ha convertido en el \u003cem\u003eidioma com√∫n\u003c/em\u003e de los proyectos \u003cstrong\u003eIoT\u003c/strong\u003e, tanto dom√©sticos como industriales. Es \u003cstrong\u003eligero\u003c/strong\u003e, funciona bien con enlaces inestables y permite que sensores, microcontroladores, dashboards y servicios en la nube intercambien datos sin enredarse en sockets manuales. Su modelo \u003cstrong\u003epublish/subscribe\u003c/strong\u003e gira alrededor de un broker que recibe, filtra y entrega mensajes, de los clientes que publican o se suscriben, y de los temas (\u003cem\u003etopics\u003c/em\u003e) que organizan la informaci√≥n con rutas jer√°rquicas como \u003ccode\u003eingenium/sala/temperatura\u003c/code\u003e.\u003c/p\u003e","tags":["MQTT","IoT","Protocolos de comunicaci√≥n","Mosquitto","Electr√≥nica conectada"],"title":"¬øQu√© es MQTT y por qu√© se usa tanto en IoT?"},{"categories":["Electr√≥nica","Proyectos"],"contents":"Un puente H es un circuito que permite invertir el sentido de giro de un motor de corriente directa (DC) al cambiar la polaridad de alimentaci√≥n entre sus terminales. Se utiliza en aplicaciones donde es necesario controlar el movimiento en ambos sentidos, como en rob√≥tica o mecanismos reversibles.\nEn este proyecto vamos a construir un puente H sencillo utilizando un m√≥dulo de 2 relevadores de 5 V, muy com√∫n en kits de Arduino, para controlar un motor DC de 12 V.\n¬øQu√© es un m√≥dulo de dos relevadores? Un m√≥dulo de relevadores es una tarjeta con uno o m√°s relevadores listos para ser controlados por un microcontrolador.\nPor ejemplo, un m√≥dulo de 2 canales funciona con nivel l√≥gico bajo (LOW level trigger) a 5 V, cada canal consume unos 15‚Äì20 mA de corriente de control y puede conmutar cargas de hasta AC 250 V 10 A o DC 30 V 10 A.\nEsto lo hace ideal para controlar peque√±os motores, l√°mparas o cargas que requieren mayor corriente que la que un Arduino puede manejar directamente.\nMateriales necesarios 1 √ó Motor DC de 12 V 1 √ó M√≥dulo de 2 relevadores de 5 V 1 √ó Fuente de 12 V para el motor 1 √ó Arduino (o cualquier microcontrolador compatible) Cables de conexi√≥n Protoboard (opcional) ¬øC√≥mo funciona el cambio de direcci√≥n? Para invertir el giro del motor necesitamos cambiar la polaridad de alimentaci√≥n.\nEsto se logra cruzando las conexiones a trav√©s de los contactos NO (Normalmente Abierto) y NC (Normalmente Cerrado) de cada relevador.\nCuando uno de los relevadores conmuta, invierte la polaridad aplicada al motor y con ello el sentido de giro.\nConexiones En el siguiente diagrama se muestra c√≥mo se conecta el motor, la fuente de 12 V, el m√≥dulo de relevadores y el Arduino:\nLos comunes (C) de los relevadores van conectados a los dos terminales del motor. Los contactos NO y NC se cruzan entre s√≠ para que un lado del motor reciba +12 V y el otro GND (seg√∫n cu√°l relevador se active). El m√≥dulo de relevadores se conecta al Arduino: IN1 ‚Üí pin digital (ej. D7) IN2 ‚Üí pin digital (ej. D8) VCC ‚Üí 5 V GND ‚Üí GND üîÑ Estados de operaci√≥n El puente H hecho con relevadores tiene cuatro combinaciones posibles seg√∫n la activaci√≥n de los dos relevadores (IN1 e IN2):\nIN1 IN2 Estado del motor Explicaci√≥n 0 0 Apagado Ambos relevadores inactivos ‚Üí motor sin tensi√≥n. 1 0 Gira en un sentido Un relevador invierte la polaridad, aplicando +12 V en un borne y GND en el otro. 0 1 Gira en el otro sentido Se invierte la polaridad al contrario. 1 1 Apagado (frenado) Ambos relevadores activos ‚Üí los dos terminales del motor quedan al mismo potencial (+12 V o GND) y el motor se frena r√°pidamente. üìå Nota: estos m√≥dulos suelen ser active LOW, lo que significa que:\nINx = 0 ‚Üí relevador activado INx = 1 ‚Üí relevador desactivado üìú C√≥digo de ejemplo (Arduino) int IN1 = 7; int IN2 = 8; void setup() { pinMode(IN1, OUTPUT); pinMode(IN2, OUTPUT); } // Gira un sentido 2s, luego al otro void loop() { // Giro hacia adelante digitalWrite(IN1, LOW); digitalWrite(IN2, HIGH); delay(2000); // Giro hacia atr√°s digitalWrite(IN1, HIGH); digitalWrite(IN2, LOW); delay(2000); // Motor apagado (frenado) digitalWrite(IN1, LOW); digitalWrite(IN2, LOW); delay(2000); } ","date":"September 16, 2025","hero":"/posts/electronica/puente-h-con-relevadores-controla-un-motor-dc-con-arduino/images/puente-h-relevadores-cover.jpg","permalink":"https://ingeniummx.github.io/posts/electronica/puente-h-con-relevadores-controla-un-motor-dc-con-arduino/","summary":"\u003cp\u003eUn \u003cstrong\u003epuente H\u003c/strong\u003e es un circuito que permite invertir el sentido de giro de un motor de corriente directa (DC) al cambiar la polaridad de alimentaci√≥n entre sus terminales. Se utiliza en aplicaciones donde es necesario controlar el movimiento en ambos sentidos, como en rob√≥tica o mecanismos reversibles.\u003c/p\u003e\n\u003cp\u003eEn este proyecto vamos a construir un puente H sencillo utilizando un \u003cstrong\u003em√≥dulo de 2 relevadores de 5 V\u003c/strong\u003e, muy com√∫n en kits de Arduino, para controlar un motor DC de 12 V.\u003c/p\u003e","tags":["Puente H","Arduino","Relevadores","Electr√≥nica b√°sica","Control de motores"],"title":"Puente H con relevadores: controla un motor DC con Arduino"},{"categories":["Linux","Desarrollo","Tutoriales"],"contents":"El Subsistema de Windows para Linux (WSL2) permite correr distribuciones de Linux dentro de Windows 11, sin necesidad de crear una m√°quina virtual con VirtualBox ni instalar dual-boot.\nEn este tutorial instalaremos Ubuntu 24.04 (Noble Numbat), configuraremos aplicaciones esenciales como git, gedit, y prepararemos el entorno para trabajar con Visual Studio Code.\n1. WSL2 en Windows 11 Abre PowerShell como administrador y ejecuta:\ndism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart Reinicia el equipo y verifica que WSL2 est√° activo:\nwsl --status 2. Instalar Ubuntu 24.04 LTS Instala Ubuntu 24.04: wsl --install -d Ubuntu-24.04 Reinicia y busca Ubuntu 24.04 LTS desde el men√∫ inicio. La primera vez que se abre, te pedir√° crear un usuario y contrase√±a Linux, pon algo simple ya que cada que corras un comando sudo te pedir√° la contrase√±a. 3. Configuraci√≥n inicial de Ubuntu 3.1 Actualizar paquetes Siempre lo primero que debes hacer en un Linux reci√©n instalado es actualizar la lista de paquetes y aplicar actualizaciones.\nsudo apt update \u0026amp;\u0026amp; sudo apt upgrade -y Esto descargar√° las √∫ltimas versiones y dejar√° tu sistema al d√≠a.\n3.2 Configurar locales UTF-8 Ubuntu necesita estar configurado en un locale UTF-8 para que programas como Python, Git o ROS manejen bien los caracteres especiales.\nsudo apt install -y locales sudo locale-gen en_US en_US.UTF-8 sudo update-locale LC_ALL=en_US.UTF-8 LANG=en_US.UTF-8 export LANG=en_US.UTF-8 Comprueba que se aplic√≥ correctamente:\nlocale Debe mostrar en_US.UTF-8.\n3.3 Instalar programas esenciales sudo apt install -y git curl wget build-essential cmake gedit nano vim htop unzip terminator 4. Windows Terminal (recomendado) Instala Windows Terminal desde la Microsoft Store.\nVentajas:\nVarias pesta√±as y splits. Personalizaci√≥n (temas, colores, atajos). Integra PowerShell, Ubuntu, CMD en una sola app. Aunque puedes usar terminator, Windows Terminal es m√°s ligero y pr√°ctico para el d√≠a a d√≠a.\n5. Visual Studio Code con WSL 5.1 Instalar VS Code Descarga desde code.visualstudio.com e inst√°lalo en Windows.\n5.2 Instalar extensi√≥n Remote - WSL Abre VS Code ‚Üí pesta√±a Extensions. Busca WSL (Microsoft) con el √≠cono del ping√ºino üêß. Haz clic en instalar. 5.3 Conectar VS Code con Ubuntu Da clic en el icono verde \u0026gt;\u0026lt; en la esquina inferior izquierda y despu√©s en Connect to WSL y listo\n6. Buenas pr√°cticas en WSL Mant√©n tus proyectos en el sistema de archivos de Linux:\nActualiza con frecuencia:\nsudo apt update \u0026amp;\u0026amp; sudo apt upgrade -y Usa explorer.exe . desde Ubuntu para abrir la carpeta actual en el Explorador de Windows. (Aseg√∫rese de agregar el punto al final del comando para abrir el directorio actual.)\nDocumentaci√≥n https://learn.microsoft.com/es-mx/windows/wsl/\n","date":"September 15, 2025","hero":"/posts/c%C3%B3mo-instalar-ubuntu-24.04-en-windows-11-con-wsl2-paso-a-paso/images/wsl-ubuntu-vscode-cover.jpg","permalink":"https://ingeniummx.github.io/posts/c%C3%B3mo-instalar-ubuntu-24.04-en-windows-11-con-wsl2-paso-a-paso/","summary":"\u003cp\u003eEl \u003cstrong\u003eSubsistema de Windows para Linux (WSL2)\u003c/strong\u003e permite correr distribuciones de Linux dentro de Windows 11, sin necesidad de crear una m√°quina virtual con VirtualBox ni instalar dual-boot.\u003cbr\u003e\nEn este tutorial instalaremos \u003cstrong\u003eUbuntu 24.04 (Noble Numbat)\u003c/strong\u003e, configuraremos aplicaciones esenciales como \u003ccode\u003egit\u003c/code\u003e, \u003ccode\u003egedit\u003c/code\u003e, y prepararemos el entorno para trabajar con \u003cstrong\u003eVisual Studio Code\u003c/strong\u003e.\u003c/p\u003e\n\u003ch2 id=\"1-wsl2-en-windows-11\"\u003e1. WSL2 en Windows 11\u003c/h2\u003e\n\u003cp\u003eAbre \u003cstrong\u003ePowerShell como administrador\u003c/strong\u003e y ejecuta:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edism.exe /online /enable-feature /featurename\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e:\u003c/span\u003eMicrosoft-Windows-Subsystem-Linux /all /norestart\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edism.exe /online /enable-feature /featurename\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e:\u003c/span\u003eVirtualMachinePlatform /all /norestart\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eReinicia el equipo y verifica que WSL2 est√° activo:\u003c/p\u003e","tags":["WSL2","Ubuntu 24.04","Windows 11","VS Code","Linux","Linux en Windows"],"title":"C√≥mo instalar Ubuntu 24.04 en Windows 11 con WSL2 paso a paso"},{"categories":["Electr√≥nica","B√°sico"],"contents":"Los pulsadores, switches y rel√©s est√°n en todos lados.\nCuando los conectamos a un microcontrolador (PIC, ESP32, Arduino, etc.) esperamos un cambio de estado limpio por cada pulsaci√≥n. En la pr√°ctica no ocurre as√≠: los contactos mec√°nicos rebotan durante unos milisegundos y generan varias transiciones antes de estabilizarse. A esto se le llama rebote de contacto (contact bounce).\nPLACEHOLDER IMG:\u0026nbsp; \"button-ideal-vs-bounce.png\" ‚Äî Se√±al ideal vs con rebote Ideal vs. real: sin rebote (arriba) vs. con rebote (abajo)\nEn aplicaciones lentas (encender una l√°mpara) el rebote pasa desapercibido.\nEn sistemas digitales (contadores, men√∫s, teclados) puede convertirse en pulsaciones falsas.\n¬øPor qu√© rebotan los contactos? Por masa, elasticidad y vibraci√≥n de las piezas met√°licas. Al presionar o soltar, los contactos no se quedan quietos al primer intento: golpean y ‚Äútiemblan‚Äù durante 1‚Äì20 ms (depende de tipo/calidad, desgaste, humedad, temperatura).\nPull-up vs Pull-down (y d√≥nde aparece el rebote) Hay dos formas comunes de cablear un bot√≥n:\nPull-up: el pin est√° en 1 por defecto (resistencia a Vcc). Al presionar, cae a 0.\nPLACEHOLDER IMG:\u0026nbsp; \"button-pullup-bounce.png\" ‚Äî Esquema + forma de onda (alto‚Üíbajo con rebote) Pull-up: rebote al ir de alto a bajo\nPull-down: el pin est√° en 0 por defecto (resistencia a GND). Al presionar, sube a 1.\nPLACEHOLDER IMG:\u0026nbsp; \"button-pulldown-bounce.png\" ‚Äî Esquema + forma de onda (bajo‚Üíalto con rebote) Pull-down: rebote al ir de bajo a alto\nC√≥mo eliminar el rebote (antirrebote) Nos quedamos con dos estrategias sencillas y efectivas:\n(1) Hardware con RC y (2) Software con m√°quina de estados usando millis().\n1) Antirrebote por hardware con filtro RC Vamos a suponer un rebote de 20 ms para simplificar. La idea es que el filtro sea un poco m√°s lento que ese rebote para que lo ‚Äúsuavice‚Äù.\nEsquema (pull-up t√≠pico): usa un pull-up a Vcc, el bot√≥n a GND, y coloca un condensador del pin a GND. C√°lculo directo: un RC se define por su constante de tiempo ( \\tau = R \\cdot C ). Queremos que (5\\tau \u0026gt; 20,\\text{ms}), as√≠ el pin no cruza varias veces el umbral durante el rebote. Ejemplo pr√°ctico (con 20 ms):\n[ R = 100,\\text{k}\\Omega, \\quad C = 47,\\text{nF} \\quad \\Rightarrow \\quad \\tau \\approx 4.7,\\text{ms} \\quad \\Rightarrow \\quad 5\\tau \\approx 23.5,\\text{ms} ]\nPLACEHOLDER IMG:\u0026nbsp; \"waveform-rc-debounce.png\" ‚Äî Rebote crudo vs salida filtrada por RC Arriba: rebote crudo. Abajo: el RC hace que el pin cruce el umbral una sola vez\nCircuito recomendado (3.3 V o 5 V, pull-up) Rpull-up = 100 kŒ© a Vcc SW1 a GND C = 47 nF del pin a GND (Opcional) Rserie = 100 Œ© con el bot√≥n para limitar picos de corriente hacia el condensador PLACEHOLDER IMG:\u0026nbsp; \"circuito-antirrebote-rc.png\" ‚Äî Esquema con Rpull-up, C al pin y Rserie Pull-up externo de 100 kŒ© + C de 47 nF ‚Üí 5œÑ ‚âà 23.5 ms\nNota: El RC a√±ade un retardo a la lectura. Si quieres m√°s rapidez, reduce un poco (R) o (C) y valida que siga filtrando bien.\n2) Antirrebote por software con millis() (no bloqueante) Usaremos una m√°quina de estados muy simple: detecta un cambio crudo, abre una ventana de estabilidad y confirma el nuevo estado si pasan ~35 ms sin m√°s cambios. No bloquea la CPU.\nconst int buttonPin = 2; // INPUT_PULLUP si no usas RC const int led = 13; const unsigned long debounceMs = 35; // ventana de estabilidad int stableState = HIGH; // reposo en HIGH (pull-up) int lastRead = HIGH; unsigned long lastEdgeMs = 0; void setup() { pinMode(buttonPin, INPUT_PULLUP); // o INPUT si usas RC externo pinMode(led, OUTPUT); } void loop() { int reading = digitalRead(buttonPin); // 1) Cambio crudo ‚Üí reinicia ventana if (reading != lastRead) { lastEdgeMs = millis(); lastRead = reading; } // 2) Pasado debounceMs sin m√°s cambios ‚Üí confirma estado if ((millis() - lastEdgeMs) \u0026gt; debounceMs \u0026amp;\u0026amp; reading != stableState) { stableState = reading; // Ejemplo: actuar al PRESIONAR (pull-up: HIGH-\u0026gt;LOW) if (stableState == LOW) { digitalWrite(led, !digitalRead(led)); // toggle } // Si prefieres actuar al SOLTAR: (stableState == HIGH) } } Tip: si usas interrupciones, es mejor llevar al pin de IRQ una se√±al ya filtrada por RC y, en la ISR, solo detectar el flanco.\nConclusi√≥n y recomendaciones (en 8 puntos) Usa millis() si no quieres tocar la PCB. Combina ambos (RC moderado + millis()) para producto robusto. Valores de arranque: RC 100 kŒ© + 47 nF (‚âà5œÑ = 23.5 ms), debounceMs 35 ms. Mide el rebote con osciloscopio; si no, dise√±a para ~20 ms y ajusta. Evita delay(); usa ventana no bloqueante con millis() o FSM. En PCB, deja pads DNF para R/C y pon el C cerca del pin (retorno GND corto). Si usas IRQ, filtra antes con RC y en la ISR solo detecta el flanco. ","date":"September 9, 2025","hero":"/posts/electronica/qu%C3%A9-es-un-circuito-antirrebote/images/circuito-antirrebote-cover.jpg","permalink":"https://ingeniummx.github.io/posts/electronica/qu%C3%A9-es-un-circuito-antirrebote/","summary":"\u003cp\u003eLos \u003cstrong\u003epulsadores\u003c/strong\u003e, \u003cstrong\u003eswitches\u003c/strong\u003e y \u003cstrong\u003erel√©s\u003c/strong\u003e est√°n en todos lados.\u003cbr\u003e\nCuando los conectamos a un microcontrolador (PIC, ESP32, Arduino, etc.) esperamos un \u003cstrong\u003ecambio de estado limpio\u003c/strong\u003e por cada pulsaci√≥n. En la pr√°ctica no ocurre as√≠: los contactos mec√°nicos \u003cstrong\u003erebotan\u003c/strong\u003e durante unos milisegundos y generan \u003cstrong\u003evarias transiciones\u003c/strong\u003e antes de estabilizarse. A esto se le llama \u003cstrong\u003erebote de contacto\u003c/strong\u003e (\u003cem\u003econtact bounce\u003c/em\u003e).\u003c/p\u003e\n\u003cdiv style=\"text-align:center; margin: 1em 0;\"\u003e\n  \u003cdiv style=\"border:2px dashed #bbb; padding:28px; width:80%; height:220px; margin:0 auto; display:flex; align-items:center; justify-content:center; color:#777;\"\u003e\n    \u003cstrong\u003ePLACEHOLDER IMG:\u003c/strong\u003e\u0026nbsp; \"button-ideal-vs-bounce.png\" ‚Äî Se√±al ideal vs con rebote\n  \u003c/div\u003e\n  \u003cp\u003e\u003cem\u003eIdeal vs. real: sin rebote (arriba) vs. con rebote (abajo)\u003c/em\u003e\u003c/p\u003e","tags":["Pulsadores","Antirrebote","Arduino","ESP32","PIC","Electr√≥nica digital"],"title":"¬øQu√© es un circuito antirrebote?"},{"categories":["Electr√≥nica","B√°sico"],"contents":"Si alguna vez has desarmado un dispositivo electr√≥nico, seguramente te has encontrado con placas verdes o azules con componentes electr√≥nicos.\nEl acr√≥nimo PCB viene del ingl√©s Printed Circuit Board y se traduce como placa de circuito impreso.\nEn pocas palabras, una PCB es una placa de fibra con pistas de cobre. Estas pistas son cables planos que conectan los componentes entre s√≠ de manera ordenada y confiable.\nUn PCB est√° formado por varias capas f√≠sicas:\nSustrato (FR4): el material base que le da rigidez. Cobre: las pistas conductoras. M√°scara de soldadura: la capa protectora, generalmente verde. Serigraf√≠a: texto blanco para identificar pines y componentes. Tipos y componentes Las PCBs se pueden clasificar de varias formas:\nN√∫mero de capas: 1 capa ‚Üí solo pistas en una cara de la placa. 2 capas ‚Üí pistas arriba y abajo, conectadas con peque√±os agujeros metalizados llamados v√≠as. Multicapa ‚Üí varias capas internas de cobre, necesarias en equipos con circuitos m√°s complejos. Tipo de montaje de componentes: Through-hole (THT) ‚Üí los pines atraviesan la placa por orificios y se sueldan al otro lado. Montaje superficial (SMD) ‚Üí los componentes se colocan directamente sobre la superficie en pads met√°licos. Software para dise√±ar PCBs El dise√±o de una PCB empieza siempre en un software CAD electr√≥nico. Algunas opciones comunes son:\nEasyEDA ‚Üí gratis, funciona en navegador, muy pr√°ctico si est√°s empezando. KiCad ‚Üí open source y completo, usado tanto por makers como en proyectos profesionales. Altium Designer ‚Üí profesional (de pago). Pasos para dise√±ar una PCB Dise√±ar el esquem√°tico\nDibujas el circuito con s√≠mbolos, que son representaciones gr√°ficas de cada componente (resistencias, chips, conectores).\nCada s√≠mbolo debe estar vinculado a una huella (footprint), que define la forma f√≠sica del componente en la PCB. Pasar al editor de PCB\nAqu√≠ defines el contorno de la placa y decides c√≥mo distribuir las huellas de los componentes.\nDespu√©s se comienza a enrutar las pistas. Estas conexiones pueden ir en la parte superior, inferior o en capas internas.\nPara conectar un lado con otro, se usan v√≠as. Generar los archivos Gerber\nSon los planos digitales que entiende la f√°brica para producir la placa.\nPuedes visualizarlos antes de mandar a fabricar en sitios como PCBWay. C√≥mo mandarlas a fabricar Hoy en d√≠a mandar a hacer PCBs es barato y r√°pido. Los pasos son:\nExporta los Gerbers de tu dise√±o. Elige un fabricante online (ejemplos: JLCPCB, PCBWay). Sube tus archivos y configura las opciones. Paga y espera. En menos de dos semanas tendr√°s tus PCBs listas. Reglas de dise√±o recomendadas Adem√°s de los consejos b√°sicos, estas reglas te ayudar√°n a evitar errores comunes:\nDefine las reglas desde el inicio\nConfigura en el software los valores deseados como: ancho de pista, separaci√≥n minima entre pistas, tama√±o de v√≠a \u0026hellip;\nColoca primero lo importante\nPon conectores y componentes grandes en su lugar, luego los ICs principales y, alrededor, los pasivos.\nMant√©n los SMD en el mismo lado para simplificar montaje.\nUsa un plano de tierra s√≥lido\nEn placas de 2 capas, dedica una cara a GND y enruta mayormente en la otra.\nAgrupa por funci√≥n\nSepara anal√≥gico, digital y potencia. As√≠ reduces interferencias y facilitas el ruteo.\nRevisa siempre con DRC/ERC\nHaz chequeos autom√°ticos y una revisi√≥n manual antes de exportar los Gerbers.\nChecklist antes de enviar a f√°brica ERC/DRC sin errores. Footprints revisados con datasheets. Revisar orientacion y polaridad de LEDs, diodos y condensadores/capacitores Plano de GND continuo (sin islas). Ancho de pistas suficiente para la corriente. Textos legibles y fuera de pads. Conectores orientados correctamente. Mounting holes y test points definidos. Gerbers revisados en el visor del fabricante. ","date":"September 8, 2025","hero":"/posts/electronica/qu%C3%A9-es-una-pcb-y-c%C3%B3mo-mandarlas-a-hacer/images/pcb-cover.jpg","permalink":"https://ingeniummx.github.io/posts/electronica/qu%C3%A9-es-una-pcb-y-c%C3%B3mo-mandarlas-a-hacer/","summary":"\u003cp\u003eSi alguna vez has desarmado un dispositivo electr√≥nico, seguramente te has encontrado con placas verdes o azules con componentes electr√≥nicos.\u003c/p\u003e\n\u003cp\u003eEl acr√≥nimo \u003cstrong\u003ePCB\u003c/strong\u003e viene del ingl√©s \u003cem\u003ePrinted Circuit Board\u003c/em\u003e y se traduce como \u003cstrong\u003eplaca de circuito impreso\u003c/strong\u003e.\u003c/p\u003e\n\u003cp\u003eEn pocas palabras, una PCB es una \u003cstrong\u003eplaca de fibra con pistas de cobre\u003c/strong\u003e. Estas pistas son cables planos que conectan los componentes entre s√≠ de manera ordenada y confiable.\u003c/p\u003e\n\u003cp\u003eUn PCB est√° formado por varias capas f√≠sicas:\u003c/p\u003e","tags":["PCB","Electr√≥nica","Maker","Dise√±o de PCBs","Fabricaci√≥n de circuitos"],"title":"¬øQu√© es una PCB y c√≥mo mandarlas a hacer?"},{"categories":["Electr√≥nica","Automatizaci√≥n industrial","Redes industriales"],"contents":"El est√°ndar OPC UA (Open Platform Communications Unified Architecture) es la evoluci√≥n m√°s robusta de la familia OPC. Fue dise√±ado para llevar los datos de m√°quinas, sensores y sistemas SCADA a aplicaciones empresariales o servicios en la nube sin depender de software propietario. Su propuesta combina un modelo de informaci√≥n sem√°ntico, comunicaciones orientadas a servicios y seguridad de grado industrial en una sola especificaci√≥n.\nArquitectura por capas: m√°s all√° del simple cliente-servidor A primera vista, OPC UA sigue un modelo cliente-servidor: los servidores exponen datos y m√©todos provenientes de dispositivos u otras fuentes, mientras que los clientes consumen esa informaci√≥n. Sin embargo, bajo la superficie hay una pila organizada en capas que separa transporte, codificaci√≥n y servicios para lograr interoperabilidad real.\nPLACEHOLDER IMG:\u0026nbsp; \"opc-ua-stack.png\" ‚Äî Capas de transporte, mensajes, servicios y modelo de informaci√≥n La especificaci√≥n separa cada responsabilidad para facilitar implementaciones multiplataforma.\nCapa de transporte: permite enviar mensajes sobre TCP seguro, HTTPS o incluso WebSockets para integrarse con aplicaciones web. Capa de mensajes: define c√≥mo se codifican las estructuras de datos (binario UA o JSON) y c√≥mo se gestionan sesiones, canales seguros y monitoreo. Capa de servicios: re√∫ne las operaciones b√°sicas como explorar nodos (Browse), leer y escribir valores, suscribirse a eventos o ejecutar m√©todos remotos. Modelo de informaci√≥n: describe los nodos y referencias que conforman la sem√°ntica del sistema, desde variables simples hasta objetos complejos. Este enfoque permite que un PLC, un gateway IIoT o un sistema MES hablen el mismo idioma aunque sean de fabricantes distintos.\nModelo de informaci√≥n: datos con sem√°ntica expl√≠cita En OPC UA, cada elemento se representa como un nodo dentro de un espacio de direcciones. Los nodos cuentan con atributos (nombre, identificador, tipo de dato) y referencias que los conectan entre s√≠. Adem√°s del √°rbol principal (Address Space), la especificaci√≥n introduce conceptos clave:\nTipos de datos y de variables que definen la estructura de los valores, incluyendo unidades, ingenier√≠a y restricciones. Objetos y m√©todos para encapsular equipos completos; por ejemplo, un variador puede exponer m√©todos como Start() o ResetFaults(). Vistas que filtran subconjuntos del espacio de direcciones para simplificar la navegaci√≥n de los clientes. Esta sem√°ntica estandarizada facilita la integraci√≥n con aplicaciones anal√≠ticas porque los datos no son simples registros, sino entidades con contexto industrial.\nModos de comunicaci√≥n: Polling eficiente y suscripciones OPC UA soporta dos patrones principales:\nLectura/Escritura directa: el cliente realiza solicitudes puntuales para obtener o modificar valores. Suscripciones con Monitored Items: el servidor env√≠a notificaciones cuando un valor cambia, se excede un umbral o se dispara un evento. Esto reduce tr√°fico y latencia, clave para tableros de control y sistemas de mantenimiento predictivo. Las suscripciones son flexibles: se puede elegir el intervalo de muestreo, la prioridad del mensaje y el modo de monitoreo (por ejemplo, solo cambios importantes). Adem√°s, las notificaciones pueden agruparse en Publish Responses para optimizar el uso de la red.\nSeguridad integrada desde el dise√±o El est√°ndar incorpora controles de seguridad en cada capa para operar en entornos cr√≠ticos:\nAutenticaci√≥n mutua mediante certificados X.509 para clientes y servidores. Cifrado y firmas con algoritmos modernos (RSA, ECC, AES-GCM) seg√∫n los perfiles de seguridad definidos por la especificaci√≥n. Control de acceso basado en roles, que permite asignar permisos detallados a funciones como operador, ingeniero o integrador. Auditor√≠a y eventos de seguridad que registran accesos, modificaciones y errores para cumplir requisitos normativos. Gracias a estos mecanismos, OPC UA puede exponerse m√°s all√° de la red OT sin recurrir a t√∫neles propietarios.\nPerfiles y Companion Specifications Para asegurar la interoperabilidad, la Fundaci√≥n OPC publica perfiles que agrupan capacidades m√≠nimas de clientes y servidores (por ejemplo, soporte para suscripciones o m√©todos). De este modo, un integrador puede verificar qu√© funciones garantiza cada implementaci√≥n.\nA la par, existen Companion Specifications creadas con asociaciones industriales (PLCopen, VDMA, FieldComm, entre otras) que describen modelos de informaci√≥n espec√≠ficos para robots, bombas o sistemas de energ√≠a. Esto acelera la integraci√≥n porque todos hablan el mismo idioma desde el nivel sem√°ntico.\nCasos de uso t√≠picos en la Industria 4.0 Consolidaci√≥n de datos de planta: recopila variables de PLC heterog√©neos y las entrega a sistemas MES o plataformas de anal√≠tica sin modificar la l√≥gica existente. Integraci√≥n OT/IT: un gateway OPC UA puede publicar datos hacia servicios cloud mediante MQTT o REST, actuando como puente seguro entre redes. Mantenimiento predictivo: las suscripciones permiten detectar tendencias an√≥malas en vibraci√≥n, temperatura o consumo energ√©tico y disparar alertas en tiempo real. Gemelos digitales: el modelo de informaci√≥n enriquece los datos crudos con metadatos, lo que facilita sincronizar el estado de activos f√≠sicos con representaciones virtuales. Buenas pr√°cticas para implementar OPC UA Definir namespaces propios para extensiones, manteniendo separados los identificadores est√°ndar de los personalizados. Documentar el Address Space y proporcionar archivos NodeSet a los integradores para que puedan explorar la estructura sin conectarse a planta. Aplicar segmentaci√≥n de red y certificados emitidos por una CA interna para reducir superficies de ataque. Monitorear m√©tricas del servidor (sesiones, suscripciones, tiempos de respuesta) y ajustar l√≠mites de recursos antes de que aparezcan cuellos de botella. Planificar la interoperabilidad a largo plazo, revisando las Companion Specifications relevantes y los perfiles que exigen los clientes finales. Conclusi√≥n OPC UA se ha consolidado como el est√°ndar de referencia para interoperabilidad industrial porque encapsula datos, sem√°ntica y seguridad en un marco √∫nico. Adoptarlo permite crear soluciones escalables que conectan m√°quinas antiguas con aplicaciones modernas, manteniendo el control sobre qui√©n accede a la informaci√≥n y c√≥mo se comparte. Para organizaciones que avanzan hacia la Industria 4.0, comprender sus fundamentos es el primer paso para dise√±ar arquitecturas OT/IT sostenibles y seguras.\n","date":"February 14, 2025","hero":"/images/default-hero.jpg","permalink":"https://ingeniummx.github.io/posts/electronica/qu%C3%A9-es-opc-ua-y-por-qu%C3%A9-es-clave-en-la-automatizaci%C3%B3n-industrial/","summary":"\u003cp\u003eEl est√°ndar \u003cstrong\u003eOPC UA (Open Platform Communications Unified Architecture)\u003c/strong\u003e es la evoluci√≥n m√°s robusta de la familia OPC. Fue dise√±ado para llevar los datos de m√°quinas, sensores y sistemas SCADA a aplicaciones empresariales o servicios en la nube sin depender de software propietario. Su propuesta combina un \u003cstrong\u003emodelo de informaci√≥n sem√°ntico\u003c/strong\u003e, comunicaciones \u003cstrong\u003eorientadas a servicios\u003c/strong\u003e y \u003cstrong\u003eseguridad de grado industrial\u003c/strong\u003e en una sola especificaci√≥n.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"arquitectura-por-capas-m√°s-all√°-del-simple-cliente-servidor\"\u003eArquitectura por capas: m√°s all√° del simple cliente-servidor\u003c/h2\u003e\n\u003cp\u003eA primera vista, OPC UA sigue un modelo cliente-servidor: los \u003cstrong\u003eservidores\u003c/strong\u003e exponen datos y m√©todos provenientes de dispositivos u otras fuentes, mientras que los \u003cstrong\u003eclientes\u003c/strong\u003e consumen esa informaci√≥n. Sin embargo, bajo la superficie hay una pila organizada en capas que separa transporte, codificaci√≥n y servicios para lograr interoperabilidad real.\u003c/p\u003e","tags":["OPC UA","Industria 4.0","Protocolos de comunicaci√≥n","Integraci√≥n OT/IT","Ciberseguridad industrial"],"title":"¬øQu√© es OPC UA y por qu√© es clave en la automatizaci√≥n industrial?"},{"categories":["Microcontroladores","Dise√±o electr√≥nico"],"contents":"C√≥mo elegir el m√≥dulo ESP32 ideal para tu PCB La familia ESP32 es est√°ndar en IoT por costo, Wi-Fi/BLE y ecosistema. Al pasar de prototipo a producto, la elecci√≥n del m√≥dulo impacta RF, consumo, certificaci√≥n y BOM. Esta gu√≠a resume criterios t√©cnicos, regulatorios y log√≠sticos para seleccionar con confianza.\n1) Define requisitos del producto Energ√≠a y consumo. ¬øBater√≠a o l√≠nea? Filtra por deep sleep (‚âà5 ¬µA en C3 hasta \u0026gt;20 ¬µA en S3) y por picos de TX (500‚Äì700 mA). Conectividad. Adem√°s de Wi-Fi 2.4 GHz, hay BLE 5.x (C3/S3), 802.15.4 para Thread/Matter (C6), e incluso variantes sin Wi-Fi (H2). Elige primero la familia por protocolo. Memoria y perif√©ricos. TLS pesado, UI, voz/visi√≥n ‚Üí PSRAM + m√°s flash (p.ej., WROVER, S3 8‚Äì16 MB). Sensores simples ‚Üí 2‚Äì4 MB. Entorno. Rango de temperatura, blindaje met√°lico y robustez EMI (p.ej., WROOM-32E/UE). Verifica versiones industriales. 2) Elige la familia ESP32 Familia CPU Radios Ventajas Casos t√≠picos ESP32 (WROOM/WROVER) Xtensa LX6 Wi-Fi b/g/n, BT Classic + LE Ecosistema maduro, opciones con PSRAM Gateways, audio, TFT ESP32-S2/S3 Xtensa (S3 con SIMD) Wi-Fi (S3: + BLE) USB OTG, aceleraciones para IA HID, c√°maras/LCD, edge-AI ESP32-C2/C3/C6 RISC-V C3: Wi-Fi + BLE; C6: + 802.15.4 Bajo consumo, Matter/Thread Bater√≠a, dom√≥tica ESP32-H2 RISC-V BLE + 802.15.4 Ultra bajo consumo, sin Wi-Fi Zigbee/Thread con pila Primero familia por protocolo/consumo; luego la variante.\n3) Compara m√≥dulos concretos M√≥dulo Antena Memoria t√≠pica Certificaci√≥n Notas de dise√±o WROOM-32E PCB 4 MB flash FCC/CE/IC/‚Ä¶ Respetar keep-out ~15 mm en antena. WROOM-32UE U.FL 4 MB flash FCC/CE Antena externa para chasis met√°lico o m√°s alcance. WROVER-B PCB + PSRAM 4 MB flash + 8 MB PSRAM FCC/CE M√°s alto y m√°s consumo; ideal audio/imagen. S3-WROOM-1 PCB 8 MB flash (op. PSRAM) FCC/CE USB OTG, soporte LCD/c√°mara, SIMD. S3-MINI-1 PCB compacta 8 MB flash FCC/CE 13√ó19 mm; perfecto en PCBs densas. C3-MINI-1 PCB 4 MB flash FCC/CE/SRRC Bajo consumo; reemplazo moderno de ESP8266. C6-MINI-1 PCB 4 MB flash (var√≠a) Wi-Fi 6 + Thread/Matter; validar disponibilidad. PICO-V3-02 SiP c/antena 8 MB flash FCC/CE QFN 7√ó7 soldable como IC; requiere stackup cuidado. Claves:\nAntena \u0026amp; forma. Antena PCB exige zona libre de cobre/masa bajo y alrededor; U.FL sube coste pero habilita antenas certificadas y mejor desempe√±o en gabinetes. Certificaci√≥n. Preferir m√≥dulos pre-certificados. Cambios en antena/cable pueden requerir pruebas parciales. Suministro. Revisar stock (Mouser/Digi-Key), NRND y hoja de ruta. T√©rmica/EMI. Blindaje mejora EMI pero eleva temperatura. Considerar ventilaci√≥n/difusores. 4) Integraci√≥n en la PCB (pr√°ctico) Sigue los design guides de Espressif. Stack-up, planos, filtros y reference layouts. RF limpia. Plano de tierra continuo, stitching vias perimetral, sin trazas bajo antena; l√≠neas a 50 Œ© calculadas (si U.FL). Alimentaci√≥n robusta. LDO/buck con margen para picos de TX; bulk capacitors cerca de 3V3, desacoplos por riel. Protecciones y test. TVS en USB/UART, pull-ups en EN/GPIO0, test pads para flashing/ATE. Boot \u0026amp; firmware. Documenta straps (GPIO0/EN y familia-dependientes), OTA y plan de programaci√≥n en f√°brica. 5) Certificaci√≥n y producci√≥n Trazabilidad regulatoria. Guarda datasheets, FCC ID, DoC, reportes. DFM/DFT. Fixture de prueba, autodisgn√≥stico de radio/memoria/sensores. Longevidad. Confirma compromiso de vida √∫til y alternativas pin-compatibles. Checklist antes de congelar dise√±o Familia elegida por protocolos y consumo. M√≥dulo con certificaciones de tus mercados. Layout RF revisado (antenna keep-out, masa, 50 Œ©). Fuente dimensionada para picos de radio + bulk. Estrategia de flasheo/OTA, pruebas y actualizaciones definida. Con estas decisiones, reduces riesgo en certificaci√≥n, maximizas rendimiento inal√°mbrico y facilitas el escalado a producci√≥n.\n","date":"June 5, 2024","hero":"/images/default-hero.jpg","permalink":"https://ingeniummx.github.io/posts/microcontroladores/c%C3%B3mo-elegir-el-m%C3%B3dulo-esp32-ideal-para-tu-pcb/","summary":"\u003ch1 id=\"c√≥mo-elegir-el-m√≥dulo-esp32-ideal-para-tu-pcb\"\u003eC√≥mo elegir el m√≥dulo ESP32 ideal para tu PCB\u003c/h1\u003e\n\u003cp\u003eLa familia ESP32 es est√°ndar en IoT por costo, Wi-Fi/BLE y ecosistema. Al pasar de prototipo a producto, la elecci√≥n del \u003cstrong\u003em√≥dulo\u003c/strong\u003e impacta RF, consumo, certificaci√≥n y BOM. Esta gu√≠a resume criterios \u003cstrong\u003et√©cnicos, regulatorios y log√≠sticos\u003c/strong\u003e para seleccionar con confianza.\u003c/p\u003e\n\u003ch2 id=\"1-define-requisitos-del-producto\"\u003e1) Define requisitos del producto\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eEnerg√≠a y consumo.\u003c/strong\u003e ¬øBater√≠a o l√≠nea? Filtra por \u003cem\u003edeep sleep\u003c/em\u003e (‚âà5 ¬µA en C3 hasta \u0026gt;20 ¬µA en S3) y por picos de TX (500‚Äì700 mA).\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eConectividad.\u003c/strong\u003e Adem√°s de Wi-Fi 2.4 GHz, hay BLE 5.x (C3/S3), 802.15.4 para Thread/Matter (C6), e incluso variantes sin Wi-Fi (H2). Elige primero la \u003cstrong\u003efamilia\u003c/strong\u003e por protocolo.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eMemoria y perif√©ricos.\u003c/strong\u003e TLS pesado, UI, voz/visi√≥n ‚Üí \u003cstrong\u003ePSRAM\u003c/strong\u003e + m√°s flash (p.ej., WROVER, S3 8‚Äì16 MB). Sensores simples ‚Üí 2‚Äì4 MB.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eEntorno.\u003c/strong\u003e Rango de temperatura, blindaje met√°lico y robustez EMI (p.ej., WROOM-32E/UE). Verifica versiones industriales.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"2-elige-la-familia-esp32\"\u003e2) Elige la familia ESP32\u003c/h2\u003e\n\u003ctable\u003e\n  \u003cthead\u003e\n      \u003ctr\u003e\n          \u003cth\u003eFamilia\u003c/th\u003e\n          \u003cth\u003eCPU\u003c/th\u003e\n          \u003cth\u003eRadios\u003c/th\u003e\n          \u003cth\u003eVentajas\u003c/th\u003e\n          \u003cth\u003eCasos t√≠picos\u003c/th\u003e\n      \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e\u003cstrong\u003eESP32 (WROOM/WROVER)\u003c/strong\u003e\u003c/td\u003e\n          \u003ctd\u003eXtensa LX6\u003c/td\u003e\n          \u003ctd\u003eWi-Fi b/g/n, BT Classic + LE\u003c/td\u003e\n          \u003ctd\u003eEcosistema maduro, opciones con PSRAM\u003c/td\u003e\n          \u003ctd\u003eGateways, audio, TFT\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e\u003cstrong\u003eESP32-S2/S3\u003c/strong\u003e\u003c/td\u003e\n          \u003ctd\u003eXtensa (S3 con SIMD)\u003c/td\u003e\n          \u003ctd\u003eWi-Fi (S3: + BLE)\u003c/td\u003e\n          \u003ctd\u003eUSB OTG, aceleraciones para IA\u003c/td\u003e\n          \u003ctd\u003eHID, c√°maras/LCD, edge-AI\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e\u003cstrong\u003eESP32-C2/C3/C6\u003c/strong\u003e\u003c/td\u003e\n          \u003ctd\u003eRISC-V\u003c/td\u003e\n          \u003ctd\u003eC3: Wi-Fi + BLE; C6: + 802.15.4\u003c/td\u003e\n          \u003ctd\u003eBajo consumo, Matter/Thread\u003c/td\u003e\n          \u003ctd\u003eBater√≠a, dom√≥tica\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e\u003cstrong\u003eESP32-H2\u003c/strong\u003e\u003c/td\u003e\n          \u003ctd\u003eRISC-V\u003c/td\u003e\n          \u003ctd\u003eBLE + 802.15.4\u003c/td\u003e\n          \u003ctd\u003eUltra bajo consumo, sin Wi-Fi\u003c/td\u003e\n          \u003ctd\u003eZigbee/Thread con pila\u003c/td\u003e\n      \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003ePrimero \u003cstrong\u003efamilia por protocolo/consumo\u003c/strong\u003e; luego la \u003cstrong\u003evariante\u003c/strong\u003e.\u003c/p\u003e","tags":["ESP32","Hardware","Dise√±o de PCB","IoT"],"title":"C√≥mo elegir el m√≥dulo ESP32 ideal para tu PCB"},{"categories":["Comunicaciones","IoT"],"contents":"MQTT es un protocolo ligero de mensajer√≠a ideal para IoT. Con un ESP32 y un broker local o en un VPS puedes controlar actuadores desde cualquier lugar del mundo.\nPreparar el broker Opci√≥n local (Mosquitto) sudo apt update sudo apt install mosquitto mosquitto-clients sudo systemctl enable --now mosquitto Opci√≥n VPS Contrata un VPS ligero (1 vCPU, 1 GB RAM). Instala Mosquitto y configura autenticaci√≥n b√°sica en /etc/mosquitto/conf.d/seguro.conf: allow_anonymous false password_file /etc/mosquitto/passwd listener 8883 cafile /etc/letsencrypt/live/tu-dominio/fullchain.pem keyfile /etc/letsencrypt/live/tu-dominio/privkey.pem certfile /etc/letsencrypt/live/tu-dominio/fullchain.pem Genera certificados TLS con Let‚Äôs Encrypt y crea usuarios con mosquitto_passwd. Firmware ESP32 (Arduino core) #include \u0026lt;WiFi.h\u0026gt; #include \u0026lt;PubSubClient.h\u0026gt; const char* ssid = \u0026#34;TuRed\u0026#34;; const char* password = \u0026#34;TuClave\u0026#34;; const char* mqtt_server = \u0026#34;broker.tudominio.com\u0026#34;; const int mqtt_port = 8883; WiFiClientSecure espClient; PubSubClient client(espClient); const int ledPin = 2; void callback(char* topic, byte* payload, unsigned int length) { String mensaje; for (unsigned int i = 0; i \u0026lt; length; i++) mensaje += (char)payload[i]; digitalWrite(ledPin, mensaje == \u0026#34;ON\u0026#34; ? HIGH : LOW); } void reconnect() { while (!client.connected()) { if (client.connect(\u0026#34;esp32-led\u0026#34;, \u0026#34;usuario\u0026#34;, \u0026#34;password\u0026#34;)) { client.subscribe(\u0026#34;casa/sala/led\u0026#34;); } else { delay(2000); } } } void setup() { pinMode(ledPin, OUTPUT); Serial.begin(115200); WiFi.begin(ssid, password); while (WiFi.status() != WL_CONNECTED) { delay(500); } espClient.setCACert(\u0026#34;-----BEGIN CERTIFICATE-----\\n...\\n-----END CERTIFICATE-----\\n\u0026#34;); client.setServer(mqtt_server, mqtt_port); client.setCallback(callback); } void loop() { if (!client.connected()) reconnect(); client.loop(); } Para conexiones sin TLS ajusta el puerto 1883 y elimina setCACert, pero prioriza seguridad en despliegues reales.\nPublicar desde cualquier lugar Usa mosquitto_pub -h broker.tudominio.com -t casa/sala/led -m \u0026quot;ON\u0026quot;. Implementa dashboards con Node-RED, Home Assistant o apps m√≥viles como MQTT Dash. Para automatizaci√≥n, crea reglas en tu VPS que escuchen webhooks y publiquen en el topic. Buenas pr√°cticas Segmenta topics por ubicaci√≥n/dispositivo (casa/sala/led). Habilita TLS y autenticaci√≥n para conexiones remotas. Implementa Last Will para detectar desconexiones inesperadas. Monitorea con mosquitto_sub o servicios como Grafana + Telegraf. Con este flujo podr√°s encender y apagar un LED desde cualquier lugar del mundo usando MQTT y tu ESP32.\n","date":"March 16, 2024","hero":"/images/default-hero.jpg","permalink":"https://ingeniummx.github.io/posts/comunicaciones/controlar-un-led-con-esp32-y-mqtt/","summary":"\u003cp\u003eMQTT es un protocolo ligero de mensajer√≠a ideal para IoT. Con un ESP32 y un broker local o en un VPS puedes controlar actuadores desde cualquier lugar del mundo.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"preparar-el-broker\"\u003ePreparar el broker\u003c/h2\u003e\n\u003ch3 id=\"opci√≥n-local-mosquitto\"\u003eOpci√≥n local (Mosquitto)\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo apt update\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo apt install mosquitto mosquitto-clients\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo systemctl enable --now mosquitto\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"opci√≥n-vps\"\u003eOpci√≥n VPS\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003eContrata un VPS ligero (1 vCPU, 1 GB RAM).\u003c/li\u003e\n\u003cli\u003eInstala Mosquitto y configura autenticaci√≥n b√°sica en \u003ccode\u003e/etc/mosquitto/conf.d/seguro.conf\u003c/code\u003e:\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003eallow_anonymous false\npassword_file /etc/mosquitto/passwd\nlistener 8883\ncafile /etc/letsencrypt/live/tu-dominio/fullchain.pem\nkeyfile /etc/letsencrypt/live/tu-dominio/privkey.pem\ncertfile /etc/letsencrypt/live/tu-dominio/fullchain.pem\n\u003c/code\u003e\u003c/pre\u003e\u003col start=\"3\"\u003e\n\u003cli\u003eGenera certificados TLS con Let‚Äôs Encrypt y crea usuarios con \u003ccode\u003emosquitto_passwd\u003c/code\u003e.\u003c/li\u003e\n\u003c/ol\u003e\n\u003chr\u003e\n\u003ch2 id=\"firmware-esp32-arduino-core\"\u003eFirmware ESP32 (Arduino core)\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-cpp\" data-lang=\"cpp\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;WiFi.h\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#include\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e\u0026lt;PubSubClient.h\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003echar\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e ssid \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;TuRed\u0026#34;\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003echar\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e password \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;TuClave\u0026#34;\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003echar\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e mqtt_server \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;broker.tudominio.com\u0026#34;\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e mqtt_port \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e8883\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eWiFiClientSecure espClient;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ePubSubClient \u003cspan style=\"color:#a6e22e\"\u003eclient\u003c/span\u003e(espClient);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e ledPin \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003evoid\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ecallback\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003echar\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e topic, byte\u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e payload, \u003cspan style=\"color:#66d9ef\"\u003eunsigned\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e length) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  String mensaje;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e (\u003cspan style=\"color:#66d9ef\"\u003eunsigned\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eint\u003c/span\u003e i \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e; i \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e length; i\u003cspan style=\"color:#f92672\"\u003e++\u003c/span\u003e) mensaje \u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e (\u003cspan style=\"color:#66d9ef\"\u003echar\u003c/span\u003e)payload[i];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  digitalWrite(ledPin, mensaje \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;ON\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e?\u003c/span\u003e HIGH : LOW);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003evoid\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ereconnect\u003c/span\u003e() {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#66d9ef\"\u003ewhile\u003c/span\u003e (\u003cspan style=\"color:#f92672\"\u003e!\u003c/span\u003eclient.connected()) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e (client.connect(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;esp32-led\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;usuario\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;password\u0026#34;\u003c/span\u003e)) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e      client.subscribe(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;casa/sala/led\u0026#34;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    } \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e      delay(\u003cspan style=\"color:#ae81ff\"\u003e2000\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003evoid\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003esetup\u003c/span\u003e() {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  pinMode(ledPin, OUTPUT);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  Serial.begin(\u003cspan style=\"color:#ae81ff\"\u003e115200\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  WiFi.begin(ssid, password);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#66d9ef\"\u003ewhile\u003c/span\u003e (WiFi.status() \u003cspan style=\"color:#f92672\"\u003e!=\u003c/span\u003e WL_CONNECTED) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    delay(\u003cspan style=\"color:#ae81ff\"\u003e500\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  espClient.setCACert(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;-----BEGIN CERTIFICATE-----\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e...\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e-----END CERTIFICATE-----\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  client.setServer(mqtt_server, mqtt_port);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  client.setCallback(callback);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003evoid\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eloop\u003c/span\u003e() {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e (\u003cspan style=\"color:#f92672\"\u003e!\u003c/span\u003eclient.connected()) reconnect();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  client.loop();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003ePara conexiones sin TLS ajusta el puerto 1883 y elimina \u003ccode\u003esetCACert\u003c/code\u003e, pero prioriza seguridad en despliegues reales.\u003c/p\u003e","tags":["MQTT","ESP32","IoT","Dom√≥tica"],"title":"Controlar un LED con ESP32 y MQTT"},{"categories":["Hardware digital","Dise√±o digital"],"contents":"Las FPGAs (Field Programmable Gate Arrays) son dispositivos l√≥gicos reconfigurables que permiten implementar hardware personalizado mediante lenguajes HDL. Ofrecen paralelismo masivo y tiempos deterministas que superan a los microcontroladores convencionales en tareas espec√≠ficas.\nArquitectura b√°sica Bloques l√≥gicos configurables (CLB): contienen LUTs, flip-flops y multiplexores. Red de interconexi√≥n programable: conecta LUTs y bloques especializados. Bloques de memoria (BRAM) y UltraRAM: almacenamiento de baja latencia. DSP slices: multiplicadores y acumuladores optimizados. I/O programables: soportan est√°ndares LVDS, LVCMOS, SerDes, etc. Flujo de dise√±o Descripci√≥n HDL (VHDL, Verilog, SystemVerilog) o herramientas de alto nivel (HLS, OpenCL). Sintetizado: convierte el HDL en una red l√≥gica. Implementaci√≥n (place \u0026amp; route): asigna recursos f√≠sicos y rutas de interconexi√≥n. Generaci√≥n de bitstream: archivo que configura la FPGA. Programaci√≥n mediante JTAG, SPI flash o procesadores integrados. Familias populares Fabricante Serie Rasgos Xilinx/AMD Artix-7, Kintex-7, Zynq Buena relaci√≥n costo/rendimiento, SoC con ARM Cortex-A9. Intel/Altera Cyclone V, MAX 10, Arria Opciones desde bajo costo hasta alto desempe√±o. Lattice iCE40, ECP5, Nexus Bajo consumo, ideales para IoT y dispositivos port√°tiles. Gowin LittleBee, Arora Alternativa econ√≥mica con herramientas accesibles. Aplicaciones Procesamiento de se√±ales (radar, SDR, visi√≥n por computadora). Puentes de comunicaci√≥n (PCIe, Ethernet, protocolos personalizados). Control industrial con tiempos deterministas. Prototipado de ASIC y emulaci√≥n de hardware. Ecosistema de herramientas Vivado / Vitis (Xilinx), Quartus Prime (Intel), Radiant / Diamond (Lattice). Flujos open source: Yosys + nextpnr, SymbiFlow, OpenFPGA. Lenguajes de alto nivel: Migen, nMigen, Chisel, SpinalHDL. Consejos para principiantes Empieza con placas accesibles (iCEstick, DE0-Nano, Arty A7). Practica con dise√±os simples: contadores, PWM, UART. Usa simulaci√≥n (GHDL, ModelSim) antes de sintetizar para atrapar bugs. Gestiona los constraints de tiempo y pines en archivos .xdc o .sdc. Documenta versiones de herramientas; peque√±as diferencias pueden cambiar resultados. Con esta base podr√°s adentrarte en el mundo de las FPGAs y escoger la plataforma adecuada para tus proyectos de dise√±o digital.\n","date":"March 16, 2024","hero":"/images/default-hero.jpg","permalink":"https://ingeniummx.github.io/posts/hardware-digital/fpgas/","summary":"\u003cp\u003eLas \u003cstrong\u003eFPGAs (Field Programmable Gate Arrays)\u003c/strong\u003e son dispositivos l√≥gicos reconfigurables que permiten implementar hardware personalizado mediante lenguajes HDL. Ofrecen paralelismo masivo y tiempos deterministas que superan a los microcontroladores convencionales en tareas espec√≠ficas.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"arquitectura-b√°sica\"\u003eArquitectura b√°sica\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eBloques l√≥gicos configurables (CLB):\u003c/strong\u003e contienen LUTs, flip-flops y multiplexores.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eRed de interconexi√≥n programable:\u003c/strong\u003e conecta LUTs y bloques especializados.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eBloques de memoria (BRAM) y UltraRAM:\u003c/strong\u003e almacenamiento de baja latencia.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDSP slices:\u003c/strong\u003e multiplicadores y acumuladores optimizados.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eI/O programables:\u003c/strong\u003e soportan est√°ndares LVDS, LVCMOS, SerDes, etc.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"flujo-de-dise√±o\"\u003eFlujo de dise√±o\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eDescripci√≥n HDL\u003c/strong\u003e (VHDL, Verilog, SystemVerilog) o herramientas de alto nivel (HLS, OpenCL).\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eSintetizado\u003c/strong\u003e: convierte el HDL en una red l√≥gica.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eImplementaci√≥n (place \u0026amp; route):\u003c/strong\u003e asigna recursos f√≠sicos y rutas de interconexi√≥n.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eGeneraci√≥n de bitstream\u003c/strong\u003e: archivo que configura la FPGA.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eProgramaci√≥n\u003c/strong\u003e mediante JTAG, SPI flash o procesadores integrados.\u003c/li\u003e\n\u003c/ol\u003e\n\u003chr\u003e\n\u003ch2 id=\"familias-populares\"\u003eFamilias populares\u003c/h2\u003e\n\u003ctable\u003e\n  \u003cthead\u003e\n      \u003ctr\u003e\n          \u003cth\u003eFabricante\u003c/th\u003e\n          \u003cth\u003eSerie\u003c/th\u003e\n          \u003cth\u003eRasgos\u003c/th\u003e\n      \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eXilinx/AMD\u003c/td\u003e\n          \u003ctd\u003eArtix-7, Kintex-7, Zynq\u003c/td\u003e\n          \u003ctd\u003eBuena relaci√≥n costo/rendimiento, SoC con ARM Cortex-A9.\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eIntel/Altera\u003c/td\u003e\n          \u003ctd\u003eCyclone V, MAX 10, Arria\u003c/td\u003e\n          \u003ctd\u003eOpciones desde bajo costo hasta alto desempe√±o.\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eLattice\u003c/td\u003e\n          \u003ctd\u003eiCE40, ECP5, Nexus\u003c/td\u003e\n          \u003ctd\u003eBajo consumo, ideales para IoT y dispositivos port√°tiles.\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eGowin\u003c/td\u003e\n          \u003ctd\u003eLittleBee, Arora\u003c/td\u003e\n          \u003ctd\u003eAlternativa econ√≥mica con herramientas accesibles.\u003c/td\u003e\n      \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003chr\u003e\n\u003ch2 id=\"aplicaciones\"\u003eAplicaciones\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eProcesamiento de se√±ales\u003c/strong\u003e (radar, SDR, visi√≥n por computadora).\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ePuentes de comunicaci√≥n\u003c/strong\u003e (PCIe, Ethernet, protocolos personalizados).\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eControl industrial\u003c/strong\u003e con tiempos deterministas.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ePrototipado de ASIC\u003c/strong\u003e y emulaci√≥n de hardware.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"ecosistema-de-herramientas\"\u003eEcosistema de herramientas\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eVivado / Vitis\u003c/strong\u003e (Xilinx), \u003cstrong\u003eQuartus Prime\u003c/strong\u003e (Intel), \u003cstrong\u003eRadiant / Diamond\u003c/strong\u003e (Lattice).\u003c/li\u003e\n\u003cli\u003eFlujos open source: \u003cstrong\u003eYosys + nextpnr\u003c/strong\u003e, \u003cstrong\u003eSymbiFlow\u003c/strong\u003e, \u003cstrong\u003eOpenFPGA\u003c/strong\u003e.\u003c/li\u003e\n\u003cli\u003eLenguajes de alto nivel: \u003cstrong\u003eMigen\u003c/strong\u003e, \u003cstrong\u003enMigen\u003c/strong\u003e, \u003cstrong\u003eChisel\u003c/strong\u003e, \u003cstrong\u003eSpinalHDL\u003c/strong\u003e.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"consejos-para-principiantes\"\u003eConsejos para principiantes\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eEmpieza con placas accesibles (iCEstick, DE0-Nano, Arty A7).\u003c/li\u003e\n\u003cli\u003ePractica con dise√±os simples: contadores, PWM, UART.\u003c/li\u003e\n\u003cli\u003eUsa \u003cstrong\u003esimulaci√≥n\u003c/strong\u003e (GHDL, ModelSim) antes de sintetizar para atrapar bugs.\u003c/li\u003e\n\u003cli\u003eGestiona los \u003cstrong\u003econstraints\u003c/strong\u003e de tiempo y pines en archivos \u003ccode\u003e.xdc\u003c/code\u003e o \u003ccode\u003e.sdc\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003eDocumenta versiones de herramientas; peque√±as diferencias pueden cambiar resultados.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eCon esta base podr√°s adentrarte en el mundo de las FPGAs y escoger la plataforma adecuada para tus proyectos de dise√±o digital.\u003c/p\u003e","tags":["FPGA","Dise√±o digital","HDL","Electr√≥nica"],"title":"FPGAs"},{"categories":["Microcontroladores","Rob√≥tica"],"contents":"micro-ROS lleva ROS 2 a microcontroladores con recursos limitados. A continuaci√≥n se describe c√≥mo configurar el build system para la Raspberry Pi Pico utilizando el Pico SDK oficial.\nPrerrequisitos Toolchain Arm (arm-none-eabi-gcc), CMake y Ninja. ROS 2 Humble (o posterior) instalado en tu sistema. Repositorio micro_ros_setup clonado en el workspace de ROS 2. Pico SDK inicializado (PICO_SDK_PATH). Configurar el workspace source /opt/ros/humble/setup.bash mkdir -p ~/micro_ros_ws/src cd ~/micro_ros_ws/src git clone https://github.com/micro-ROS/micro_ros_setup.git cd .. colcon build source install/local_setup.bash Crear firmware para la Pico Importa los repositorios necesarios: ros2 run micro_ros_setup create_firmware_ws.sh freertos raspberripi_pico Descarga dependencias: ros2 run micro_ros_setup configure_firmware.sh freertos raspberripi_pico Compila con opciones personalizadas (Wi-Fi deshabilitada por defecto): ros2 run micro_ros_setup build_firmware.sh El resultado (firmware.uf2) se genera en firmware/build. C√≥pialo a la Pico en modo BOOTSEL. Ejemplo: nodo ping Tras flashear, conecta la Pico por USB y ejecuta en el host:\nros2 run micro_ros_agent micro_ros_agent serial --dev /dev/ttyACM0 -b 115200 En otra terminal:\nros2 topic echo /micro_ros/ping Deber√≠as ver paquetes peri√≥dicos generados por el firmware de ejemplo.\nPersonalizar el proyecto Edita firmware/freertos_apps/apps/ping_pong/main.c para crear tus propios nodos. Ajusta memoria en pico_hw_description.cmake seg√∫n tus necesidades de pila y heap. Integra sensores usando rclc y colas de mensajes confiables (rmw_microxrcedds). Buenas pr√°cticas Actualiza peri√≥dicamente micro_ros_setup para obtener parches de compatibilidad. Usa colcon profiles para separar builds de depuraci√≥n y liberaci√≥n. Registra el hash del commit del Pico SDK y micro-ROS en tu documentaci√≥n. Automatiza generaci√≥n de .uf2 en CI para mantener firmware consistente. Siguiendo estos pasos ejecutar√°s micro-ROS en la Raspberry Pi Pico con el SDK oficial listo para integrarse en sistemas ROS 2.\n","date":"March 16, 2024","hero":"/images/default-hero.jpg","permalink":"https://ingeniummx.github.io/posts/microcontroladores/instalar-micro-ros-en-la-pico/","summary":"\u003cp\u003e\u003cstrong\u003emicro-ROS\u003c/strong\u003e lleva ROS 2 a microcontroladores con recursos limitados. A continuaci√≥n se describe c√≥mo configurar el build system para la Raspberry Pi Pico utilizando el Pico SDK oficial.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"prerrequisitos\"\u003ePrerrequisitos\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eToolchain Arm (\u003ccode\u003earm-none-eabi-gcc\u003c/code\u003e), CMake y Ninja.\u003c/li\u003e\n\u003cli\u003eROS 2 Humble (o posterior) instalado en tu sistema.\u003c/li\u003e\n\u003cli\u003eRepositorio \u003ccode\u003emicro_ros_setup\u003c/code\u003e clonado en el workspace de ROS 2.\u003c/li\u003e\n\u003cli\u003ePico SDK inicializado (\u003ccode\u003ePICO_SDK_PATH\u003c/code\u003e).\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"configurar-el-workspace\"\u003eConfigurar el workspace\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esource /opt/ros/humble/setup.bash\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003emkdir -p ~/micro_ros_ws/src\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecd ~/micro_ros_ws/src\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003egit clone https://github.com/micro-ROS/micro_ros_setup.git\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecd ..\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecolcon build\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esource install/local_setup.bash\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003chr\u003e\n\u003ch2 id=\"crear-firmware-para-la-pico\"\u003eCrear firmware para la Pico\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eImporta los repositorios necesarios\u003c/strong\u003e:\u003c/li\u003e\n\u003c/ol\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eros2 run micro_ros_setup create_firmware_ws.sh freertos raspberripi_pico\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003col start=\"2\"\u003e\n\u003cli\u003e\u003cstrong\u003eDescarga dependencias\u003c/strong\u003e:\u003c/li\u003e\n\u003c/ol\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eros2 run micro_ros_setup configure_firmware.sh freertos raspberripi_pico\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003col start=\"3\"\u003e\n\u003cli\u003e\u003cstrong\u003eCompila\u003c/strong\u003e con opciones personalizadas (Wi-Fi deshabilitada por defecto):\u003c/li\u003e\n\u003c/ol\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eros2 run micro_ros_setup build_firmware.sh\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003col start=\"4\"\u003e\n\u003cli\u003eEl resultado (\u003ccode\u003efirmware.uf2\u003c/code\u003e) se genera en \u003ccode\u003efirmware/build\u003c/code\u003e. C√≥pialo a la Pico en modo BOOTSEL.\u003c/li\u003e\n\u003c/ol\u003e\n\u003chr\u003e\n\u003ch2 id=\"ejemplo-nodo-ping\"\u003eEjemplo: nodo ping\u003c/h2\u003e\n\u003cp\u003eTras flashear, conecta la Pico por USB y ejecuta en el host:\u003c/p\u003e","tags":["micro-ROS","Raspberry Pi Pico","ROS 2","Embedded"],"title":"Instalar micro-ROS en la Pico"},{"categories":["Microcontroladores","IoT"],"contents":"Cuando el n√∫mero de GPIO de la Raspberry Pi Pico no basta, puedes ampliar entradas digitales con expansores I2C. Estos integrados entregan 8, 16 o m√°s pines configurables sin sacrificar recursos del microcontrolador.\nExpansores populares Chip Bits Voltaje Caracter√≠sticas MCP23017 16 1,8‚Äì5,5 V Dos bancos de 8 bits, interrupciones configurables, pull-ups internos. PCF8575 16 2,5‚Äì5,5 V Entradas/salidas quasi-bidireccionales, ideal para lectura de botones. TCA9555 16 2,3‚Äì5,5 V Interrupciones separadas, compatible con 400 kHz. SX1509 16 2,5‚Äì3,6 V PWM por pin, debounce interno y l√≥gica de interrupciones avanzada. Conexi√≥n b√°sica Conecta SDA y SCL al bus I2C de la Pico (GPIO 4 y 5 por defecto) con pull-ups de 4,7 kŒ©. Alimenta el expansor con 3,3 V o el voltaje requerido. Configura las direcciones mediante pines A0-A2. Conecta pines de interrupci√≥n (INTA/INTB) a GPIO disponibles para detectar cambios sin sondeo constante. Ejemplo con MCP23017 en MicroPython from machine import I2C, Pin from mcp23017 import MCP23017 i2c = I2C(0, scl=Pin(5), sda=Pin(4), freq=400000) exp = MCP23017(i2c, address=0x20) exp.setup(0, MCP23017.IN, pullup=True) exp.setup(1, MCP23017.IN, pullup=True) while True: estado0 = exp.input(0) estado1 = exp.input(1) # Procesa botones En C/C++ utiliza la librer√≠a hardware/i2c.h y escribe a los registros IODIRA, GPPUA y GPIOA.\nBuenas pr√°cticas A√≠sla dominios de voltaje si conectas se√±ales de 5 V; algunos expansores toleran 5 V s√≥lo en entradas. Debounce por hardware o firmware para evitar falsos positivos en botones. Gestiona interrupciones leyendo ambos puertos para limpiar flags. Escala el bus: I2C soporta hasta 8 dispositivos por direcci√≥n si usas diferentes direcciones. Considera SPI si necesitas velocidades mayores; chips como MCP23S17 ofrecen interfaz alternativa. Con expansores I2C podr√°s incrementar las entradas digitales de tu Pico sin redise√±ar la placa principal.\n","date":"March 16, 2024","hero":"/images/default-hero.jpg","permalink":"https://ingeniummx.github.io/posts/microcontroladores/ampliar-entradas-digitales-con-i2c/","summary":"\u003cp\u003eCuando el n√∫mero de GPIO de la Raspberry Pi Pico no basta, puedes \u003cstrong\u003eampliar entradas digitales\u003c/strong\u003e con expansores I2C. Estos integrados entregan 8, 16 o m√°s pines configurables sin sacrificar recursos del microcontrolador.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"expansores-populares\"\u003eExpansores populares\u003c/h2\u003e\n\u003ctable\u003e\n  \u003cthead\u003e\n      \u003ctr\u003e\n          \u003cth\u003eChip\u003c/th\u003e\n          \u003cth\u003eBits\u003c/th\u003e\n          \u003cth\u003eVoltaje\u003c/th\u003e\n          \u003cth\u003eCaracter√≠sticas\u003c/th\u003e\n      \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eMCP23017\u003c/td\u003e\n          \u003ctd\u003e16\u003c/td\u003e\n          \u003ctd\u003e1,8‚Äì5,5 V\u003c/td\u003e\n          \u003ctd\u003eDos bancos de 8 bits, interrupciones configurables, pull-ups internos.\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003ePCF8575\u003c/td\u003e\n          \u003ctd\u003e16\u003c/td\u003e\n          \u003ctd\u003e2,5‚Äì5,5 V\u003c/td\u003e\n          \u003ctd\u003eEntradas/salidas quasi-bidireccionales, ideal para lectura de botones.\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eTCA9555\u003c/td\u003e\n          \u003ctd\u003e16\u003c/td\u003e\n          \u003ctd\u003e2,3‚Äì5,5 V\u003c/td\u003e\n          \u003ctd\u003eInterrupciones separadas, compatible con 400 kHz.\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eSX1509\u003c/td\u003e\n          \u003ctd\u003e16\u003c/td\u003e\n          \u003ctd\u003e2,5‚Äì3,6 V\u003c/td\u003e\n          \u003ctd\u003ePWM por pin, debounce interno y l√≥gica de interrupciones avanzada.\u003c/td\u003e\n      \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003chr\u003e\n\u003ch2 id=\"conexi√≥n-b√°sica\"\u003eConexi√≥n b√°sica\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eConecta SDA y SCL al bus I2C de la Pico (GPIO 4 y 5 por defecto) con \u003cstrong\u003epull-ups de 4,7 kŒ©\u003c/strong\u003e.\u003c/li\u003e\n\u003cli\u003eAlimenta el expansor con 3,3 V o el voltaje requerido.\u003c/li\u003e\n\u003cli\u003eConfigura las direcciones mediante pines A0-A2.\u003c/li\u003e\n\u003cli\u003eConecta pines de interrupci√≥n (INTA/INTB) a GPIO disponibles para detectar cambios sin sondeo constante.\u003c/li\u003e\n\u003c/ol\u003e\n\u003chr\u003e\n\u003ch2 id=\"ejemplo-con-mcp23017-en-micropython\"\u003eEjemplo con MCP23017 en MicroPython\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-python\" data-lang=\"python\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e machine \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e I2C, Pin\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e mcp23017 \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e MCP23017\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ei2c \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e I2C(\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e, scl\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003ePin(\u003cspan style=\"color:#ae81ff\"\u003e5\u003c/span\u003e), sda\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003ePin(\u003cspan style=\"color:#ae81ff\"\u003e4\u003c/span\u003e), freq\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e400000\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eexp \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e MCP23017(i2c, address\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e0x20\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eexp\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esetup(\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e, MCP23017\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eIN, pullup\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eTrue\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eexp\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esetup(\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e, MCP23017\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eIN, pullup\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eTrue\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003ewhile\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eTrue\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    estado0 \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e exp\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003einput(\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    estado1 \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e exp\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003einput(\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e# Procesa botones\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eEn C/C++ utiliza la librer√≠a \u003ccode\u003ehardware/i2c.h\u003c/code\u003e y escribe a los registros \u003ccode\u003eIODIRA\u003c/code\u003e, \u003ccode\u003eGPPUA\u003c/code\u003e y \u003ccode\u003eGPIOA\u003c/code\u003e.\u003c/p\u003e","tags":["Raspberry Pi Pico","I2C","Expansores GPIO","Hardware modular"],"title":"Ampliar entradas digitales con I2C"},{"categories":["Electr√≥nica","Alta velocidad"],"contents":"La capacitancia parasitaria aparece de forma no intencional entre pistas, planos y componentes. En circuitos de alta velocidad puede degradar bordes, generar diafon√≠a y alterar la respuesta en frecuencia.\nDe d√≥nde proviene Pistas paralelas: forman capacitores distribuidos cuando corren cercanas durante largos trayectos. Pads y planos de referencia: cada pad hacia un plano crea capacitancia que modifica la impedancia. Componentes discretos: encapsulados, cables y conectores poseen capacitancias internas. Se aproxima con:\n[ C = \\varepsilon \\frac{A}{d} ]\ndonde (A) es el √°rea de superposici√≥n, (d) la distancia y (\\varepsilon) la permitividad.\nEfectos en circuitos Aumento del tiempo de subida en se√±ales digitales: (t_r \\approx 2,2 RC). Resonancias junto con inductancias par√°sitas formando tanques LC. Diafon√≠a (crosstalk) entre trazas paralelas. Alteraci√≥n de filtros anal√≥gicos o osciladores LC. C√≥mo mitigarlo Controla la geometr√≠a: mant√©n separaci√≥n suficiente entre pistas de alta velocidad. Usa planos de referencia s√≥lidos para definir impedancia y reducir diafon√≠a. Reduce √°reas expuestas en pads grandes mediante ventanas en solder mask. Acorta leads y cables en prototipos para disminuir capacitancia a√±adida. Aplica terminaciones adecuadas (series o en paralelo) para amortiguar efectos. Herramientas de an√°lisis Simuladores de integridad de se√±al (HyperLynx, SiSoft, Keysight ADS). Calculadoras de impedancia y capacitancia en l√≠nea. Medici√≥n con VNA o TDR para validar prototipos. Checklist de dise√±o ¬øLas pistas cr√≠ticas siguen reglas de separaci√≥n e impedancia? ¬øLos planos de retorno est√°n continuos y sin slots? ¬øSe minimizaron stubs en v√≠as y pads? ¬øSe verific√≥ la respuesta mediante simulaci√≥n o medici√≥n? Controlar la capacitancia parasitaria te permitir√° mantener se√±ales limpias y reproducibles en tus PCBs de alta velocidad.\n","date":"March 16, 2024","hero":"/images/default-hero.jpg","permalink":"https://ingeniummx.github.io/posts/electronica/capacitancia-parasitaria-en-pcbs/","summary":"\u003cp\u003eLa \u003cstrong\u003ecapacitancia parasitaria\u003c/strong\u003e aparece de forma no intencional entre pistas, planos y componentes. En circuitos de alta velocidad puede degradar bordes, generar diafon√≠a y alterar la respuesta en frecuencia.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"de-d√≥nde-proviene\"\u003eDe d√≥nde proviene\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003ePistas paralelas:\u003c/strong\u003e forman capacitores distribuidos cuando corren cercanas durante largos trayectos.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ePads y planos de referencia:\u003c/strong\u003e cada pad hacia un plano crea capacitancia que modifica la impedancia.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eComponentes discretos:\u003c/strong\u003e encapsulados, cables y conectores poseen capacitancias internas.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eSe aproxima con:\u003c/p\u003e","tags":["PCB","Se√±ales r√°pidas","Integridad de se√±al","Dise√±o electr√≥nico"],"title":"Capacitancia parasitaria en PCBs"},{"categories":["Electr√≥nica","Energ√≠a"],"contents":"Conectar una fuente al rev√©s puede destruir componentes y pistas. Implementar protecci√≥n contra inversi√≥n de polaridad es obligatorio en PCBs expuestas a usuarios finales o mantenimiento en campo.\nM√©todos comunes Diodo en serie Coloca un diodo Schottky en serie con la entrada. Ventaja: simplicidad extrema. Desventaja: ca√≠da de tensi√≥n (~0,3‚Äì0,5 V) y p√©rdida de potencia. Diodo en paralelo + fusible Diodo TVS o rectificador en antiparalelo, fusible o PTC en serie. Si se invierte la polaridad, el diodo conduce y el fusible abre. Adecuado para fuentes de alto voltaje con usuarios experimentados. MOSFET de canal P Configura un MOSFET P-channel con el cuerpo diode apuntando hacia la carga. Ofrece baja ca√≠da de tensi√≥n (mŒ©) y protecci√≥n bidireccional limitada. Cuidado con el V_GS max al usar fuentes por encima de 20 V. MOSFET de canal N ideal Usa un MOSFET N con controlador de puerta ideal (por ejemplo, LTC4365, LM5060). Proporciona protecci√≥n bidireccional, limitaci√≥n de corriente y detecci√≥n de sobrevoltaje. Recomendado en fuentes industriales y bater√≠as Li-ion de alto corriente. Consideraciones de dise√±o Rango de voltaje: dimensiona componentes para el m√°ximo esperado m√°s margen. Corriente nominal: MOSFET con (R_{DS(on)}) bajo y disipaci√≥n calculada. Respuesta t√©rmica: a√±ade planos de cobre y vias para disipar calor. Diagn√≥stico: LEDs o indicadores que alerten de polaridad invertida. Pruebas: aplica inversi√≥n con fuentes limitadas en corriente para validar que no se da√±e la placa. Layout PCB Coloca la protecci√≥n cerca del conector de entrada. Usa pistas cortas y anchas para reducir inductancia. A√±ade TVS adicionales para transientes r√°pidos. Documenta claramente la polaridad en serigraf√≠a y manuales. Con estas estrategias podr√°s dise√±ar PCBs robustas que soporten errores de conexi√≥n sin comprometer el rendimiento.\n","date":"March 16, 2024","hero":"/images/default-hero.jpg","permalink":"https://ingeniummx.github.io/posts/electronica/protecci%C3%B3n-contra-inversi%C3%B3n-de-polaridad/","summary":"\u003cp\u003eConectar una fuente al rev√©s puede destruir componentes y pistas. Implementar \u003cstrong\u003eprotecci√≥n contra inversi√≥n de polaridad\u003c/strong\u003e es obligatorio en PCBs expuestas a usuarios finales o mantenimiento en campo.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"m√©todos-comunes\"\u003eM√©todos comunes\u003c/h2\u003e\n\u003ch3 id=\"diodo-en-serie\"\u003eDiodo en serie\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eColoca un diodo Schottky en serie con la entrada.\u003c/li\u003e\n\u003cli\u003eVentaja: simplicidad extrema.\u003c/li\u003e\n\u003cli\u003eDesventaja: ca√≠da de tensi√≥n (~0,3‚Äì0,5 V) y p√©rdida de potencia.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"diodo-en-paralelo--fusible\"\u003eDiodo en paralelo + fusible\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eDiodo TVS o rectificador en antiparalelo, fusible o PTC en serie.\u003c/li\u003e\n\u003cli\u003eSi se invierte la polaridad, el diodo conduce y el fusible abre.\u003c/li\u003e\n\u003cli\u003eAdecuado para fuentes de alto voltaje con usuarios experimentados.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"mosfet-de-canal-p\"\u003eMOSFET de canal P\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eConfigura un MOSFET P-channel con el cuerpo diode apuntando hacia la carga.\u003c/li\u003e\n\u003cli\u003eOfrece baja ca√≠da de tensi√≥n (mŒ©) y protecci√≥n bidireccional limitada.\u003c/li\u003e\n\u003cli\u003eCuidado con el \u003cstrong\u003eV_GS max\u003c/strong\u003e al usar fuentes por encima de 20 V.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"mosfet-de-canal-n-ideal\"\u003eMOSFET de canal N ideal\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eUsa un MOSFET N con controlador de puerta ideal (por ejemplo, \u003cstrong\u003eLTC4365\u003c/strong\u003e, \u003cstrong\u003eLM5060\u003c/strong\u003e).\u003c/li\u003e\n\u003cli\u003eProporciona protecci√≥n bidireccional, limitaci√≥n de corriente y detecci√≥n de sobrevoltaje.\u003c/li\u003e\n\u003cli\u003eRecomendado en fuentes industriales y bater√≠as Li-ion de alto corriente.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"consideraciones-de-dise√±o\"\u003eConsideraciones de dise√±o\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eRango de voltaje:\u003c/strong\u003e dimensiona componentes para el m√°ximo esperado m√°s margen.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eCorriente nominal:\u003c/strong\u003e MOSFET con (R_{DS(on)}) bajo y disipaci√≥n calculada.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eRespuesta t√©rmica:\u003c/strong\u003e a√±ade planos de cobre y vias para disipar calor.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDiagn√≥stico:\u003c/strong\u003e LEDs o indicadores que alerten de polaridad invertida.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ePruebas:\u003c/strong\u003e aplica inversi√≥n con fuentes limitadas en corriente para validar que no se da√±e la placa.\u003c/li\u003e\n\u003c/ol\u003e\n\u003chr\u003e\n\u003ch2 id=\"layout-pcb\"\u003eLayout PCB\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eColoca la protecci√≥n cerca del conector de entrada.\u003c/li\u003e\n\u003cli\u003eUsa pistas cortas y anchas para reducir inductancia.\u003c/li\u003e\n\u003cli\u003eA√±ade TVS adicionales para transientes r√°pidos.\u003c/li\u003e\n\u003cli\u003eDocumenta claramente la polaridad en serigraf√≠a y manuales.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eCon estas estrategias podr√°s dise√±ar PCBs robustas que soporten errores de conexi√≥n sin comprometer el rendimiento.\u003c/p\u003e","tags":["Protecci√≥n el√©ctrica","MOSFET","PCB design","Fuentes de alimentaci√≥n"],"title":"Protecci√≥n contra inversi√≥n de polaridad"},{"categories":["Electr√≥nica","Anal√≥gico"],"contents":"Cuando un sensor entrega una se√±al fuera del rango de tu ADC o instrumento, necesitas un cambiador de rango. Con amplificadores operacionales puedes desplazar y escalar niveles para aprovechar mejor la resoluci√≥n disponible.\nObjetivo de dise√±o Queremos transformar una se√±al (V_{in}) en (V_{out}) seg√∫n:\n[ V_{out} = a V_{in} + b ]\ndonde (a) es la ganancia y (b) el offset. Un circuito sumador/restador con op-amp no inversor logra este comportamiento.\nConfiguraci√≥n t√≠pica Ganancia ajustable: usa un amplificador no inversor con resistencias (R_1) y (R_2), ganancia (1 + R_2/R_1). Offset programable: suma una referencia (V_{ref}) a trav√©s de un divisor y op-amp sumador. Fuente de referencia precisa: TL431, DAC o referencia interna del microcontrolador filtrada. Rail-to-rail: selecciona op-amps que operen dentro del rango de tu suministro y salida. Ejemplo pr√°ctico Transformar 0‚Äì20 mA (convertido a 0‚Äì2,5 V sobre resistor de 125 Œ©) a 0‚Äì5 V para un ADC.\nConvierte corriente en voltaje: (V_{sense} = 0)‚Äì2,5 V. Configura ganancia (a = 2) con (R_2 = R_1). Offset (b = 0) (no requerido). Resultado: 0‚Äì5 V. Para se√±ales bipolares (por ejemplo -5 a +5 V a 0‚Äì3,3 V):\nGanancia (a = 0,33). Offset (b = 1,65) usando referencia a mitad de 3,3 V. Consideraciones de precisi√≥n Tolerancia de resistencias: usa 0,1‚ÄØ% o mejor para errores \u0026lt;1 LSB. Deriva t√©rmica: elige op-amps con bajo coeficiente y resistencias de pel√≠cula met√°lica. Ruido y ancho de banda: dimensiona filtros RC para limitar ruido antes del ADC. Protecci√≥n A√±ade diodos de clamp y resistencias serie para proteger contra sobrevoltajes. Implementa limitadores (amplificadores con saturaci√≥n) para mantener la se√±al dentro del rango esperado. Checklist ¬øLa referencia de offset es estable y filtrada? ¬øEl op-amp soporta el rango de entrada/salida? ¬øLa ganancia resultante cumple con los l√≠mites de tu ADC? ¬øA√±adiste filtrado anti-aliasing si el ADC es SAR? Con estos lineamientos podr√°s dise√±ar cambiadores de rango fiables usando amplificadores operacionales.\n","date":"March 16, 2024","hero":"/images/default-hero.jpg","permalink":"https://ingeniummx.github.io/posts/electronica/cambiadores-de-rango-con-op-amps/","summary":"\u003cp\u003eCuando un sensor entrega una se√±al fuera del rango de tu ADC o instrumento, necesitas un \u003cstrong\u003ecambiador de rango\u003c/strong\u003e. Con amplificadores operacionales puedes desplazar y escalar niveles para aprovechar mejor la resoluci√≥n disponible.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"objetivo-de-dise√±o\"\u003eObjetivo de dise√±o\u003c/h2\u003e\n\u003cp\u003eQueremos transformar una se√±al (V_{in}) en (V_{out}) seg√∫n:\u003c/p\u003e\n\u003cp\u003e[\nV_{out} = a V_{in} + b\n]\u003c/p\u003e\n\u003cp\u003edonde (a) es la ganancia y (b) el offset. Un circuito sumador/restador con op-amp no inversor logra este comportamiento.\u003c/p\u003e","tags":["Amplificadores operacionales","Acondicionamiento de se√±al","Instrumentaci√≥n","Dise√±o anal√≥gico"],"title":"Cambiadores de rango con op-amps"},{"categories":["Software","Inteligencia artificial"],"contents":"Whisper es un modelo de reconocimiento de voz multiling√ºe de c√≥digo abierto creado por OpenAI. Permite transcribir audio a texto con alta precisi√≥n sin depender de servicios en la nube.\nRequisitos Python 3.8 o superior. Pip y virtualenv. FFmpeg instalado en el sistema (necesario para convertir formatos de audio). GPU opcional (CUDA) para acelerar inferencias con modelos grandes. Instala FFmpeg en Linux con sudo apt install ffmpeg o usa los binarios oficiales en Windows/macOS.\nInstalaci√≥n python -m venv .venv source .venv/bin/activate # En Windows: .venv\\Scripts\\activate pip install --upgrade pip pip install openai-whisper ffmpeg-python torch torchvision torchaudio Si cuentas con GPU Nvidia, instala la versi√≥n de PyTorch compatible con tu versi√≥n de CUDA desde https://pytorch.org/get-started/locally/ antes de openai-whisper.\nTranscripci√≥n b√°sica import whisper model = whisper.load_model(\u0026#34;small\u0026#34;) result = model.transcribe(\u0026#34;entrevista.wav\u0026#34;, language=\u0026#34;es\u0026#34;) print(result[\u0026#34;text\u0026#34;]) El par√°metro language acelera la detecci√≥n. Usa modelos tiny, base, small, medium o large seg√∫n recursos y precisi√≥n.\nOptimizaci√≥n y trucos Segmenta audios largos para evitar agotar memoria (whisper.utils.get_writer). Activa fp16=False si corres en CPU o GPUs sin soporte FP16. Guarda subt√≠tulos usando writer = whisper.utils.get_writer(\u0026quot;srt\u0026quot;, \u0026quot;./salidas\u0026quot;). Limpia ruido previamente con herramientas como pydub o noisereduce para mejorar resultados. Traducci√≥n: model.transcribe(..., task=\u0026quot;translate\u0026quot;) genera texto en ingl√©s desde cualquier idioma. Integraci√≥n en pipelines Automatiza carga desde S3, GCS o almacenamiento local. Env√≠a resultados a bases de datos o motores de b√∫squeda (Elastic, Pinecone). Expone un microservicio FastAPI para procesar cargas de usuarios. Combina con diarizaci√≥n (Pyannote) para identificar hablantes. Con estos pasos tendr√°s una soluci√≥n reproducible para transcribir audio a texto usando Whisper y Python.\n","date":"March 16, 2024","hero":"/images/default-hero.jpg","permalink":"https://ingeniummx.github.io/posts/software/transcribir-audio-con-whisper/","summary":"\u003cp\u003e\u003cstrong\u003eWhisper\u003c/strong\u003e es un modelo de reconocimiento de voz multiling√ºe de c√≥digo abierto creado por OpenAI. Permite transcribir audio a texto con alta precisi√≥n sin depender de servicios en la nube.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"requisitos\"\u003eRequisitos\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003ePython 3.8 o superior.\u003c/li\u003e\n\u003cli\u003ePip y virtualenv.\u003c/li\u003e\n\u003cli\u003eFFmpeg instalado en el sistema (necesario para convertir formatos de audio).\u003c/li\u003e\n\u003cli\u003eGPU opcional (CUDA) para acelerar inferencias con modelos grandes.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eInstala FFmpeg en Linux con \u003ccode\u003esudo apt install ffmpeg\u003c/code\u003e o usa los binarios oficiales en Windows/macOS.\u003c/p\u003e","tags":["Whisper","Python","Transcripci√≥n","IA"],"title":"Transcribir audio con Whisper"},{"categories":["Sensores","Rob√≥tica"],"contents":"Los sistemas Lidar (Light Detection and Ranging) miden distancias con l√°ser y generan mapas de alta resoluci√≥n. Son esenciales en SLAM, veh√≠culos aut√≥nomos e inspecci√≥n industrial.\nTecnolog√≠as principales Lidar rotativo 2D: un l√°ser gira 360¬∞ en un plano horizontal. Ejemplos: RPLidar A2, Hokuyo UST. Lidar rotativo 3D: varias l√≠neas l√°ser (Velodyne, Ouster) o inclinaci√≥n mec√°nica para generar nubes 3D. Solid-state (MEMS, flash, FMCW): sin partes m√≥viles, menor tama√±o y costo creciente en automoci√≥n. Time-of-Flight directo vs FMCW: ToF mide tiempo, FMCW mide frecuencia y obtiene velocidad relativa. Par√°metros clave Alcance: distancia m√°xima efectiva para objetos con reflectividad est√°ndar. Frecuencia de escaneo: Hz o RPM; determina cu√°ntos datos por segundo. Resoluci√≥n angular: separaci√≥n entre mediciones; influye en densidad de nube. Campo de visi√≥n (FoV): horizontal y vertical. Precisi√≥n y repetibilidad: error absoluto y ruido entre mediciones. Clase l√°ser: seguridad ocular (Clase 1 preferida para interiores). Comparativa r√°pida Modelo Tipo Alcance Frecuencia Nota destacada RPLidar A1 2D 12 m 5‚Äì10 Hz Econ√≥mico para hobby, sin protecci√≥n polvo. Slamtec S1 2D 40 m 10‚Äì20 Hz IP65, lidar doble motor. Hokuyo UST-10LX 2D 10 m 40 Hz Industrial, interfaz Ethernet. Ouster OS1 3D solid-state 120 m 10‚Äì20 Hz Alta densidad, APIs ROS listas. Livox MID-360 3D no rotativo 70 m 20 Hz Escaneo no repetitivo con fusi√≥n temporal. Integraci√≥n en robots Montaje r√≠gido y calibraci√≥n de transformaciones TF para ROS/ROS 2. Sincronizaci√≥n temporal con IMU o c√°maras para SLAM preciso. Filtrado de ruido (VoxelGrid, StatisticalOutlierRemoval) antes de alimentar algoritmos. Gesti√≥n de energ√≠a: algunos modelos consumen \u0026gt;10 W, planifica la fuente. Buenas pr√°cticas Mant√©n superficies limpias; polvo o insectos generan falsos positivos. Usa zonas de exclusi√≥n en software para ignorar partes del robot. Configura firmware y drivers oficiales para aprovechar actualizaciones de calibraci√≥n. Considera climatizaci√≥n si operas en exterior (calentadores, deshumidificadores). Con estos criterios podr√°s elegir e integrar un Lidar acorde a tus necesidades de navegaci√≥n y percepci√≥n.\n","date":"March 16, 2024","hero":"/images/default-hero.jpg","permalink":"https://ingeniummx.github.io/posts/sensores/lidar/","summary":"\u003cp\u003eLos sistemas \u003cstrong\u003eLidar (Light Detection and Ranging)\u003c/strong\u003e miden distancias con l√°ser y generan mapas de alta resoluci√≥n. Son esenciales en SLAM, veh√≠culos aut√≥nomos e inspecci√≥n industrial.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"tecnolog√≠as-principales\"\u003eTecnolog√≠as principales\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eLidar rotativo 2D:\u003c/strong\u003e un l√°ser gira 360¬∞ en un plano horizontal. Ejemplos: RPLidar A2, Hokuyo UST.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eLidar rotativo 3D:\u003c/strong\u003e varias l√≠neas l√°ser (Velodyne, Ouster) o inclinaci√≥n mec√°nica para generar nubes 3D.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eSolid-state (MEMS, flash, FMCW):\u003c/strong\u003e sin partes m√≥viles, menor tama√±o y costo creciente en automoci√≥n.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eTime-of-Flight directo vs FMCW:\u003c/strong\u003e ToF mide tiempo, FMCW mide frecuencia y obtiene velocidad relativa.\u003c/li\u003e\n\u003c/ol\u003e\n\u003chr\u003e\n\u003ch2 id=\"par√°metros-clave\"\u003ePar√°metros clave\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eAlcance:\u003c/strong\u003e distancia m√°xima efectiva para objetos con reflectividad est√°ndar.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eFrecuencia de escaneo:\u003c/strong\u003e Hz o RPM; determina cu√°ntos datos por segundo.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eResoluci√≥n angular:\u003c/strong\u003e separaci√≥n entre mediciones; influye en densidad de nube.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eCampo de visi√≥n (FoV):\u003c/strong\u003e horizontal y vertical.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ePrecisi√≥n y repetibilidad:\u003c/strong\u003e error absoluto y ruido entre mediciones.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eClase l√°ser:\u003c/strong\u003e seguridad ocular (Clase 1 preferida para interiores).\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"comparativa-r√°pida\"\u003eComparativa r√°pida\u003c/h2\u003e\n\u003ctable\u003e\n  \u003cthead\u003e\n      \u003ctr\u003e\n          \u003cth\u003eModelo\u003c/th\u003e\n          \u003cth\u003eTipo\u003c/th\u003e\n          \u003cth\u003eAlcance\u003c/th\u003e\n          \u003cth\u003eFrecuencia\u003c/th\u003e\n          \u003cth\u003eNota destacada\u003c/th\u003e\n      \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eRPLidar A1\u003c/td\u003e\n          \u003ctd\u003e2D\u003c/td\u003e\n          \u003ctd\u003e12 m\u003c/td\u003e\n          \u003ctd\u003e5‚Äì10 Hz\u003c/td\u003e\n          \u003ctd\u003eEcon√≥mico para hobby, sin protecci√≥n polvo.\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eSlamtec S1\u003c/td\u003e\n          \u003ctd\u003e2D\u003c/td\u003e\n          \u003ctd\u003e40 m\u003c/td\u003e\n          \u003ctd\u003e10‚Äì20 Hz\u003c/td\u003e\n          \u003ctd\u003eIP65, lidar doble motor.\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eHokuyo UST-10LX\u003c/td\u003e\n          \u003ctd\u003e2D\u003c/td\u003e\n          \u003ctd\u003e10 m\u003c/td\u003e\n          \u003ctd\u003e40 Hz\u003c/td\u003e\n          \u003ctd\u003eIndustrial, interfaz Ethernet.\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eOuster OS1\u003c/td\u003e\n          \u003ctd\u003e3D solid-state\u003c/td\u003e\n          \u003ctd\u003e120 m\u003c/td\u003e\n          \u003ctd\u003e10‚Äì20 Hz\u003c/td\u003e\n          \u003ctd\u003eAlta densidad, APIs ROS listas.\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eLivox MID-360\u003c/td\u003e\n          \u003ctd\u003e3D no rotativo\u003c/td\u003e\n          \u003ctd\u003e70 m\u003c/td\u003e\n          \u003ctd\u003e20 Hz\u003c/td\u003e\n          \u003ctd\u003eEscaneo no repetitivo con fusi√≥n temporal.\u003c/td\u003e\n      \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003chr\u003e\n\u003ch2 id=\"integraci√≥n-en-robots\"\u003eIntegraci√≥n en robots\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eMontaje r√≠gido\u003c/strong\u003e y calibraci√≥n de transformaciones TF para ROS/ROS 2.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eSincronizaci√≥n temporal\u003c/strong\u003e con IMU o c√°maras para SLAM preciso.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eFiltrado de ruido\u003c/strong\u003e (VoxelGrid, StatisticalOutlierRemoval) antes de alimentar algoritmos.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eGesti√≥n de energ√≠a\u003c/strong\u003e: algunos modelos consumen \u0026gt;10 W, planifica la fuente.\u003c/li\u003e\n\u003c/ol\u003e\n\u003chr\u003e\n\u003ch2 id=\"buenas-pr√°cticas\"\u003eBuenas pr√°cticas\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eMant√©n \u003cstrong\u003esuperficies limpias\u003c/strong\u003e; polvo o insectos generan falsos positivos.\u003c/li\u003e\n\u003cli\u003eUsa \u003cstrong\u003ezonas de exclusi√≥n\u003c/strong\u003e en software para ignorar partes del robot.\u003c/li\u003e\n\u003cli\u003eConfigura \u003cstrong\u003efirmware y drivers oficiales\u003c/strong\u003e para aprovechar actualizaciones de calibraci√≥n.\u003c/li\u003e\n\u003cli\u003eConsidera \u003cstrong\u003eclimatizaci√≥n\u003c/strong\u003e si operas en exterior (calentadores, deshumidificadores).\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eCon estos criterios podr√°s elegir e integrar un Lidar acorde a tus necesidades de navegaci√≥n y percepci√≥n.\u003c/p\u003e","tags":["Lidar","Rob√≥tica","SLAM","Sensores de distancia"],"title":"Lidar"},{"categories":["Sensores","Rob√≥tica"],"contents":"Los sensores ultras√≥nicos miden distancia calculando el tiempo que tarda un pulso ac√∫stico en viajar y regresar desde un obst√°culo. Son econ√≥micos y √∫tiles en rob√≥tica m√≥vil, medici√≥n de nivel y dom√≥tica.\nComponentes clave Transductor emisor/receptor piezoel√©ctrico (~40 kHz). Driver que genera burst de alta tensi√≥n (80‚Äì120 Vpp en modelos industriales). Detector de eco con amplificaci√≥n logar√≠tmica. Controlador que mide el tiempo de vuelo (ToF) y entrega una lectura digital o anal√≥gica. La distancia se calcula como:\n[ d = \\frac{v_{sonido} \\cdot t_{eco}}{2} ]\ndonde (v_{sonido}) ‚âà 343 m/s a 20‚ÄØ¬∞C.\nM√≥dulos populares Modelo Interfaz Rango t√≠pico Precisi√≥n Notas HC-SR04 Trigger/Echo (5 V) 2‚Äì400 cm ¬±3 mm Necesita conversi√≥n de nivel para 3,3 V. JSN-SR04T Trigger/Echo, impermeable 25‚Äì600 cm ¬±20 mm Sensor remoto IP66, ideal exterior. MaxBotix MB1240 PWM, anal√≥gica, serie 20‚Äì765 cm ¬±2,5 cm Auto-calibraci√≥n y filtrado de ruido. Ultras√≥nicos industriales 4‚Äì20 mA, IO-Link \u0026gt;8 m ¬±1 % Resisten polvo, alta tensi√≥n de excitaci√≥n. Consideraciones de dise√±o √Ångulo de haz: t√≠picamente 15¬∞. Objetos peque√±os o inclinados pueden no reflejar suficiente energ√≠a. Temperatura y humedad: afectan la velocidad del sonido. Compensa con sensores de temperatura o tablas. Ruido el√©ctrico: usa capacitores de desacoplo y layout corto entre driver y transductor. Interferencias cruzadas: programa ventanas de escucha y IDs si m√∫ltiples sensores operan simult√°neamente. Filtrado y procesamiento Promedios m√≥viles para suavizar lecturas. Filtros mediana para eliminar ecos falsos. Ventanas de aceptaci√≥n basadas en velocidad m√°xima esperada para descartar saltos. Fusi√≥n sensorial con encoders, IMU o lidar para mejorar precisi√≥n. Aplicaciones Evitar colisiones en robots y drones terrestres. Medir nivel en tanques de agua o granos. Detectar presencia en puertas autom√°ticas. Controlar estaciones de estacionamiento y basureros inteligentes. Seleccionar el m√≥dulo adecuado y dise√±ar el entorno el√©ctrico y mec√°nico correctamente garantizar√° lecturas estables en tus proyectos ultras√≥nicos.\n","date":"March 16, 2024","hero":"/images/default-hero.jpg","permalink":"https://ingeniummx.github.io/posts/sensores/sensores-ultras%C3%B3nicos/","summary":"\u003cp\u003eLos \u003cstrong\u003esensores ultras√≥nicos\u003c/strong\u003e miden distancia calculando el tiempo que tarda un pulso ac√∫stico en viajar y regresar desde un obst√°culo. Son econ√≥micos y √∫tiles en rob√≥tica m√≥vil, medici√≥n de nivel y dom√≥tica.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"componentes-clave\"\u003eComponentes clave\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eTransductor emisor/receptor\u003c/strong\u003e piezoel√©ctrico (~40 kHz).\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDriver\u003c/strong\u003e que genera burst de alta tensi√≥n (80‚Äì120 Vpp en modelos industriales).\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDetector de eco\u003c/strong\u003e con amplificaci√≥n logar√≠tmica.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eControlador\u003c/strong\u003e que mide el tiempo de vuelo (ToF) y entrega una lectura digital o anal√≥gica.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eLa distancia se calcula como:\u003c/p\u003e","tags":["Ultras√≥nico","Distancia","Rob√≥tica m√≥vil","Sensores"],"title":"Sensores ultras√≥nicos"},{"categories":["Sensores","Control de movimiento"],"contents":"El efecto Hall describe la diferencia de potencial que aparece cuando un conductor con corriente atraviesa un campo magn√©tico. Los sensores Hall aprovechan este fen√≥meno para medir posici√≥n, velocidad o corriente sin contacto mec√°nico.\nTipos principales Hall digital tipo interruptor: salida on/off con hist√©resis. Usados en detecci√≥n de proximidad, finales de carrera o conmutaci√≥n de motores BLDC. Hall latch (bipolares): cambian de estado al detectar polos norte/sur, ideales para codificadores magn√©ticos. Hall lineales: entregan una tensi√≥n proporcional al campo (V_{out} = V_{ref} + S \\cdot B), donde (S) es la sensibilidad. Sensores Hall de corriente: combinan un conductor y n√∫cleo magn√©tico para medir corriente en bus. Aplicaciones en motores Conmutaci√≥n BLDC: tres sensores ubicados a 120¬∞ el√©ctricos generan la secuencia de activaci√≥n de fases. Detecci√≥n de rotor en motores paso a paso h√≠bridos cuando se requiere feedback adicional. Protecci√≥n contra sobrecorriente en drivers mediante Hall lineales integrados. Integraci√≥n en encoders Encoders magn√©ticos como AS5048, MA730 o TLE5012 usan un im√°n diametral y sensores Hall 2D/3D. La resoluci√≥n depende del ASIC (hasta 14 bits) y la alineaci√≥n axial del im√°n. Proporcionan interfaces SPI, I¬≤C, PWM o ABI (A/B/Z) compatibles con sistemas existentes. Dise√±o con sensores Hall Colocaci√≥n del im√°n: asegura una distancia uniforme. Usa imanes diametrales o multipolares seg√∫n la aplicaci√≥n. Blindaje y ruido: filtra con capacitores y protege contra campos externos fuertes. Alimentaci√≥n estable: muchos sensores usan referencias internas de 2,5 V; a√±ade bypass de 100 nF + 1 ¬µF. Calibraci√≥n: aplica offsets y escalas v√≠a firmware para corregir tolerancias. Selecci√≥n del sensor Rango de campo: elige un dispositivo cuyo rango abarque tu campo m√°ximo sin saturaci√≥n. Sensibilidad y ruido: eval√∫a densidad espectral de ruido para mediciones precisas. Temperatura: para aplicaciones automotrices busca rangos -40 a 150‚ÄØ¬∞C. Salida: digital open-drain, push-pull, anal√≥gica ratiom√©trica o PWM. Comprender estas variables te permitir√° integrar sensores Hall de forma confiable en sistemas de motores, encoders y medici√≥n de corriente.\n","date":"March 16, 2024","hero":"/images/default-hero.jpg","permalink":"https://ingeniummx.github.io/posts/sensores/sensores-hall/","summary":"\u003cp\u003eEl \u003cstrong\u003eefecto Hall\u003c/strong\u003e describe la diferencia de potencial que aparece cuando un conductor con corriente atraviesa un campo magn√©tico. Los sensores Hall aprovechan este fen√≥meno para medir posici√≥n, velocidad o corriente sin contacto mec√°nico.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"tipos-principales\"\u003eTipos principales\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eHall digital tipo interruptor:\u003c/strong\u003e salida on/off con hist√©resis. Usados en detecci√≥n de proximidad, finales de carrera o conmutaci√≥n de motores BLDC.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eHall latch (bipolares):\u003c/strong\u003e cambian de estado al detectar polos norte/sur, ideales para codificadores magn√©ticos.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eHall lineales:\u003c/strong\u003e entregan una tensi√≥n proporcional al campo (V_{out} = V_{ref} + S \\cdot B), donde (S) es la sensibilidad.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eSensores Hall de corriente:\u003c/strong\u003e combinan un conductor y n√∫cleo magn√©tico para medir corriente en bus.\u003c/li\u003e\n\u003c/ol\u003e\n\u003chr\u003e\n\u003ch2 id=\"aplicaciones-en-motores\"\u003eAplicaciones en motores\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eConmutaci√≥n BLDC:\u003c/strong\u003e tres sensores ubicados a 120¬∞ el√©ctricos generan la secuencia de activaci√≥n de fases.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDetecci√≥n de rotor en motores paso a paso h√≠bridos\u003c/strong\u003e cuando se requiere feedback adicional.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eProtecci√≥n contra sobrecorriente\u003c/strong\u003e en drivers mediante Hall lineales integrados.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"integraci√≥n-en-encoders\"\u003eIntegraci√≥n en encoders\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eEncoders magn√©ticos como \u003cstrong\u003eAS5048\u003c/strong\u003e, \u003cstrong\u003eMA730\u003c/strong\u003e o \u003cstrong\u003eTLE5012\u003c/strong\u003e usan un im√°n diametral y sensores Hall 2D/3D.\u003c/li\u003e\n\u003cli\u003eLa resoluci√≥n depende del ASIC (hasta 14 bits) y la alineaci√≥n axial del im√°n.\u003c/li\u003e\n\u003cli\u003eProporcionan interfaces SPI, I¬≤C, PWM o ABI (A/B/Z) compatibles con sistemas existentes.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"dise√±o-con-sensores-hall\"\u003eDise√±o con sensores Hall\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eColocaci√≥n del im√°n:\u003c/strong\u003e asegura una distancia uniforme. Usa imanes diametrales o multipolares seg√∫n la aplicaci√≥n.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eBlindaje y ruido:\u003c/strong\u003e filtra con capacitores y protege contra campos externos fuertes.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eAlimentaci√≥n estable:\u003c/strong\u003e muchos sensores usan referencias internas de 2,5 V; a√±ade bypass de 100 nF + 1 ¬µF.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eCalibraci√≥n:\u003c/strong\u003e aplica offsets y escalas v√≠a firmware para corregir tolerancias.\u003c/li\u003e\n\u003c/ol\u003e\n\u003chr\u003e\n\u003ch2 id=\"selecci√≥n-del-sensor\"\u003eSelecci√≥n del sensor\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eRango de campo:\u003c/strong\u003e elige un dispositivo cuyo rango abarque tu campo m√°ximo sin saturaci√≥n.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eSensibilidad y ruido:\u003c/strong\u003e eval√∫a densidad espectral de ruido para mediciones precisas.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eTemperatura:\u003c/strong\u003e para aplicaciones automotrices busca rangos -40 a 150‚ÄØ¬∞C.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eSalida:\u003c/strong\u003e digital open-drain, push-pull, anal√≥gica ratiom√©trica o PWM.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eComprender estas variables te permitir√° integrar sensores Hall de forma confiable en sistemas de motores, encoders y medici√≥n de corriente.\u003c/p\u003e","tags":["Sensores Hall","Motores","Encoders","Magnetismo"],"title":"Sensores Hall"},{"categories":["Sensores","Control de movimiento"],"contents":"Los encoders convierten movimiento en se√±ales el√©ctricas para medir posici√≥n, velocidad o direcci√≥n. Son fundamentales en rob√≥tica, CNC y servo sistemas.\nClasificaci√≥n principal Tipo Principio Resoluci√≥n t√≠pica Ventajas Desventajas Incremental √≥ptico Interrupci√≥n de luz LED-fotorreceptor 100‚Äì10.000 PPR Alta precisi√≥n, se√±ales cuadratura. Sensibles al polvo, requieren referencia absoluta externa. Incremental magn√©tico Sensor Hall/magnetorresistivo 32‚Äì2048 PPR Robustos, toleran suciedad. Menor precisi√≥n angular. Absoluto √≥ptico C√≥digo Gray en disco 10‚Äì20 bits Posici√≥n √∫nica sin homing. Costosos, tama√±o mayor. Absoluto magn√©tico Sensor Hall 3D + ASIC 12‚Äì16 bits Compactos, soportan vibraci√≥n. Requieren calibraci√≥n precisa del im√°n. Lineales (regla √≥ptica/magn√©tica) Codificaci√≥n incremental o absoluta 1‚Äì10 ¬µm CNC y metrolog√≠a. Instalaci√≥n compleja. Se√±ales y conexiones Cuadratura A/B: permite detectar direcci√≥n y multiplicar la resoluci√≥n x4 con flancos. Index (Z): referencia una vuelta completa. Salida push-pull u open-collector: elige drivers compatibles con tu PLC o microcontrolador. Interfaces absolutas: SSI, BiSS-C, CANopen, EtherCAT, I¬≤C/SPI en modelos compactos. Seleccionar un encoder Resoluci√≥n necesaria: determina pulsos por revoluci√≥n (PPR) o bits. Considera reducci√≥n mec√°nica y microstepping. Velocidad m√°xima: verifica frecuencia de salida (f = \\text{PPR} \\times \\text{RPM} / 60) para dimensionar entradas. Ambiente: polvo, vibraci√≥n, temperatura. Escoge IP adecuado y sellado. Montaje: eje s√≥lido, hueco, sin rodamientos (kit encoder), acople flexible. Protocolo: compatibilidad con controladores existentes. Aplicaciones t√≠picas Servomotores AC/DC con control de posici√≥n. Robots m√≥viles para odometr√≠a diferencial. Impresoras 3D y CNC para realimentar husillos o camas. Instrumentaci√≥n en metrolog√≠a y mesas de inspecci√≥n. Buenas pr√°cticas Alinea mec√°nicamente el eje y usa acoples flexibles para evitar cargas radiales. Protege el cableado con pares trenzados y blindaje conectado a tierra por un extremo. Implementa homing seguro aun con encoders absolutos para validar l√≠mites f√≠sicos. Filtra ruido con entradas diferenciales (RS-422) y filtros digitales en firmware. Comprender estas variables te permitir√° seleccionar el encoder adecuado y garantizar lecturas confiables en tus sistemas de control de movimiento.\n","date":"March 16, 2024","hero":"/images/default-hero.jpg","permalink":"https://ingeniummx.github.io/posts/sensores/encoders/","summary":"\u003cp\u003eLos \u003cstrong\u003eencoders\u003c/strong\u003e convierten movimiento en se√±ales el√©ctricas para medir posici√≥n, velocidad o direcci√≥n. Son fundamentales en rob√≥tica, CNC y servo sistemas.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"clasificaci√≥n-principal\"\u003eClasificaci√≥n principal\u003c/h2\u003e\n\u003ctable\u003e\n  \u003cthead\u003e\n      \u003ctr\u003e\n          \u003cth\u003eTipo\u003c/th\u003e\n          \u003cth\u003ePrincipio\u003c/th\u003e\n          \u003cth\u003eResoluci√≥n t√≠pica\u003c/th\u003e\n          \u003cth\u003eVentajas\u003c/th\u003e\n          \u003cth\u003eDesventajas\u003c/th\u003e\n      \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eIncremental √≥ptico\u003c/td\u003e\n          \u003ctd\u003eInterrupci√≥n de luz LED-fotorreceptor\u003c/td\u003e\n          \u003ctd\u003e100‚Äì10.000 PPR\u003c/td\u003e\n          \u003ctd\u003eAlta precisi√≥n, se√±ales cuadratura.\u003c/td\u003e\n          \u003ctd\u003eSensibles al polvo, requieren referencia absoluta externa.\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eIncremental magn√©tico\u003c/td\u003e\n          \u003ctd\u003eSensor Hall/magnetorresistivo\u003c/td\u003e\n          \u003ctd\u003e32‚Äì2048 PPR\u003c/td\u003e\n          \u003ctd\u003eRobustos, toleran suciedad.\u003c/td\u003e\n          \u003ctd\u003eMenor precisi√≥n angular.\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eAbsoluto √≥ptico\u003c/td\u003e\n          \u003ctd\u003eC√≥digo Gray en disco\u003c/td\u003e\n          \u003ctd\u003e10‚Äì20 bits\u003c/td\u003e\n          \u003ctd\u003ePosici√≥n √∫nica sin homing.\u003c/td\u003e\n          \u003ctd\u003eCostosos, tama√±o mayor.\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eAbsoluto magn√©tico\u003c/td\u003e\n          \u003ctd\u003eSensor Hall 3D + ASIC\u003c/td\u003e\n          \u003ctd\u003e12‚Äì16 bits\u003c/td\u003e\n          \u003ctd\u003eCompactos, soportan vibraci√≥n.\u003c/td\u003e\n          \u003ctd\u003eRequieren calibraci√≥n precisa del im√°n.\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eLineales (regla √≥ptica/magn√©tica)\u003c/td\u003e\n          \u003ctd\u003eCodificaci√≥n incremental o absoluta\u003c/td\u003e\n          \u003ctd\u003e1‚Äì10 ¬µm\u003c/td\u003e\n          \u003ctd\u003eCNC y metrolog√≠a.\u003c/td\u003e\n          \u003ctd\u003eInstalaci√≥n compleja.\u003c/td\u003e\n      \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003chr\u003e\n\u003ch2 id=\"se√±ales-y-conexiones\"\u003eSe√±ales y conexiones\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eCuadratura A/B\u003c/strong\u003e: permite detectar direcci√≥n y multiplicar la resoluci√≥n x4 con flancos.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eIndex (Z)\u003c/strong\u003e: referencia una vuelta completa.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eSalida push-pull u open-collector\u003c/strong\u003e: elige drivers compatibles con tu PLC o microcontrolador.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eInterfaces absolutas\u003c/strong\u003e: SSI, BiSS-C, CANopen, EtherCAT, I¬≤C/SPI en modelos compactos.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"seleccionar-un-encoder\"\u003eSeleccionar un encoder\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eResoluci√≥n necesaria\u003c/strong\u003e: determina pulsos por revoluci√≥n (PPR) o bits. Considera reducci√≥n mec√°nica y microstepping.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eVelocidad m√°xima\u003c/strong\u003e: verifica frecuencia de salida (f = \\text{PPR} \\times \\text{RPM} / 60) para dimensionar entradas.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eAmbiente\u003c/strong\u003e: polvo, vibraci√≥n, temperatura. Escoge IP adecuado y sellado.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eMontaje\u003c/strong\u003e: eje s√≥lido, hueco, sin rodamientos (kit encoder), acople flexible.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eProtocolo\u003c/strong\u003e: compatibilidad con controladores existentes.\u003c/li\u003e\n\u003c/ol\u003e\n\u003chr\u003e\n\u003ch2 id=\"aplicaciones-t√≠picas\"\u003eAplicaciones t√≠picas\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eServomotores AC/DC\u003c/strong\u003e con control de posici√≥n.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eRobots m√≥viles\u003c/strong\u003e para odometr√≠a diferencial.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eImpresoras 3D y CNC\u003c/strong\u003e para realimentar husillos o camas.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eInstrumentaci√≥n\u003c/strong\u003e en metrolog√≠a y mesas de inspecci√≥n.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"buenas-pr√°cticas\"\u003eBuenas pr√°cticas\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eAlinea mec√°nicamente\u003c/strong\u003e el eje y usa acoples flexibles para evitar cargas radiales.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eProtege el cableado\u003c/strong\u003e con pares trenzados y blindaje conectado a tierra por un extremo.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eImplementa homing seguro\u003c/strong\u003e aun con encoders absolutos para validar l√≠mites f√≠sicos.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eFiltra ruido\u003c/strong\u003e con entradas diferenciales (RS-422) y filtros digitales en firmware.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eComprender estas variables te permitir√° seleccionar el encoder adecuado y garantizar lecturas confiables en tus sistemas de control de movimiento.\u003c/p\u003e","tags":["Encoders","Control de movimiento","Sensores","Automatizaci√≥n"],"title":"Encoders"},{"categories":["Microcontroladores","Software"],"contents":"Programar la Raspberry Pi Pico directamente en C/C++ ofrece m√°ximo control sobre el hardware y mejor desempe√±o que las capas de compatibilidad Arduino. Estos son los pasos clave para configurar el entorno oficial Pico SDK en Windows, Linux o macOS.\nRequisitos previos Toolchain Arm GCC (arm-none-eabi-gcc y newlib). CMake ‚â• 3.13 y Ninja o Make. Python 3 para scripts auxiliares. Git para clonar el SDK y subm√≥dulos. En Windows se recomienda usar WSL o el instalador oficial que empaqueta todas las dependencias.\nInstalaci√≥n del Pico SDK mkdir -p ~/pico \u0026amp;\u0026amp; cd ~/pico git clone -b master https://github.com/raspberrypi/pico-sdk.git cd pico-sdk git submodule update --init export PICO_SDK_PATH=$PWD A√±ade la variable PICO_SDK_PATH a tu .bashrc o script de entorno.\nPara la Pico 2 (RP2350) habilita el flag PICO_PLATFORM=rp2350 o usa la rama sdk-2.0 que soporta el nuevo silicio.\nCrear un proyecto base cd ~/pico git clone https://github.com/raspberrypi/pico-examples.git cd pico-examples/blink mkdir build \u0026amp;\u0026amp; cd build cmake -DPICO_BOARD=pico_w .. ninja Generar√°s archivos .uf2 y .elf. Copia el .uf2 a la unidad montada cuando la Pico est√© en modo BOOTSEL.\nEstructura recomendada my-project/ ‚îú‚îÄ‚îÄ CMakeLists.txt ‚îú‚îÄ‚îÄ cmake/ ‚îÇ ‚îî‚îÄ‚îÄ pico_sdk_import.cmake ‚îú‚îÄ‚îÄ include/ ‚îú‚îÄ‚îÄ src/ ‚îÇ ‚îî‚îÄ‚îÄ main.cpp ‚îî‚îÄ‚îÄ build/ pico_sdk_import.cmake apunta al SDK sin necesidad de variables globales. Define targets espec√≠ficos (pico_add_extra_outputs, pico_enable_stdio_usb). Depuraci√≥n y pruebas Conecta un debug probe (Picoprobe, CMSIS-DAP) al puerto SWD. Usa OpenOCD con el archivo interface/picoprobe.cfg y target/rp2040.cfg. Inicia gdb-multiarch o arm-none-eabi-gdb para setear breakpoints y ver registros. Aprovecha pico_unit o frameworks como Unity para pruebas unitarias en host. Buenas pr√°cticas Habilita std::span, -fno-exceptions y LTO para reducir tama√±o si no necesitas RTTI. Documenta la versi√≥n del SDK en cmake/pico_sdk_import.cmake. Crea targets separados para Pico y Pico W con diferentes opciones de Wi-Fi/Bluetooth. Automatiza builds con GitHub Actions usando contenedores oficiales raspberrypi/pico-sdk. Con esta configuraci√≥n tendr√°s un flujo profesional para desarrollar en C/C++ sobre la Raspberry Pi Pico y sus variantes sin depender de Arduino.\n","date":"March 16, 2024","hero":"/images/default-hero.jpg","permalink":"https://ingeniummx.github.io/posts/microcontroladores/programar-la-pico-en-c-/","summary":"\u003cp\u003eProgramar la Raspberry Pi Pico directamente en C/C++ ofrece m√°ximo control sobre el hardware y mejor desempe√±o que las capas de compatibilidad Arduino. Estos son los pasos clave para configurar el entorno oficial \u003cstrong\u003ePico SDK\u003c/strong\u003e en Windows, Linux o macOS.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"requisitos-previos\"\u003eRequisitos previos\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eToolchain Arm GCC\u003c/strong\u003e (\u003ccode\u003earm-none-eabi-gcc\u003c/code\u003e y \u003ccode\u003enewlib\u003c/code\u003e).\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eCMake ‚â• 3.13\u003c/strong\u003e y \u003cstrong\u003eNinja\u003c/strong\u003e o Make.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ePython 3\u003c/strong\u003e para scripts auxiliares.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eGit\u003c/strong\u003e para clonar el SDK y subm√≥dulos.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eEn Windows se recomienda usar \u003cstrong\u003eWSL\u003c/strong\u003e o el instalador oficial que empaqueta todas las dependencias.\u003c/p\u003e","tags":["Raspberry Pi Pico","C++","Pico SDK","Herramientas de desarrollo"],"title":"Programar la Pico en C++"},{"categories":["Microcontroladores","Hardware"],"contents":"Los m√≥dulos PIO (Programmable I/O) del RP2040 permiten implementar perif√©ricos programables sin cargar la CPU. Con dos bloques PIO y cuatro m√°quinas de estado cada uno, puedes crear controladores para protocolos no soportados de forma nativa.\nArquitectura PIO M√°quinas de estado: hasta 4 por bloque, cada una con 32 instrucciones de 16 bits. FIFO TX/RX: buffers de 4 palabras para intercambio con la CPU o DMA. Pins flexibles: mapeo independiente para entrada, salida y side-set. Clock divider: ajusta la frecuencia de ejecuci√≥n con resoluci√≥n fraccional. Flujo de trabajo Escribe el programa PIO en ensamblador espec√≠fico (.program). Carga el c√≥digo en la instrucci√≥n memory del bloque PIO. Configura los registros de control (SM, clocks, pins). Usa la API del SDK o MicroPython para enviar/recibir datos. Ejemplos pr√°cticos WS2812 (NeoPixel) Genera los pulsos de 800 kHz con side-set para controlar tiras RGB. Libera a la CPU para calcular animaciones mientras PIO gestiona la temporizaci√≥n. Interfaces VGA/DVI Emite se√±ales de sincron√≠a y datos de v√≠deo usando m√∫ltiples m√°quinas coordinadas. Requiere DMA para alimentar los buffers a alta velocidad. Captura de se√±ales Configura una m√°quina PIO en modo IN para muestrear pines a alta frecuencia. Vuelca los datos a memoria mediante DMA para an√°lisis posterior. Consejos de implementaci√≥n Planifica el ancho de palabra. Ajusta push/pull y shift registers para empaquetar datos eficientemente. Utiliza DMA. Mantiene alimentadas las FIFOs sin bloquear la CPU. Divide funciones entre m√°quinas. Un bloque puede generar reloj y otro manejar datos. Depura con pioasm. El SDK incluye herramientas para validar el programa antes de compilar. Sincroniza con IRQ. Usa interrupciones PIO para coordinar eventos con el firmware principal. Recursos adicionales Documentaci√≥n oficial del RP2040 Datasheet (cap√≠tulo PIO). Ejemplos del Pico SDK (pio/): UART, I¬≤C, PWM mejorado, DVI. Librer√≠as comunitarias como rp2040-pio-emulator para pruebas en PC. Dominar PIO te permitir√° extender la Raspberry Pi Pico m√°s all√° de sus perif√©ricos est√°ndar y construir soluciones de tiempo real personalizadas.\n","date":"March 16, 2024","hero":"/images/default-hero.jpg","permalink":"https://ingeniummx.github.io/posts/microcontroladores/m%C3%B3dulos-pio-en-la-pico/","summary":"\u003cp\u003eLos \u003cstrong\u003em√≥dulos PIO (Programmable I/O)\u003c/strong\u003e del RP2040 permiten implementar perif√©ricos programables sin cargar la CPU. Con dos bloques PIO y cuatro m√°quinas de estado cada uno, puedes crear controladores para protocolos no soportados de forma nativa.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"arquitectura-pio\"\u003eArquitectura PIO\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eM√°quinas de estado:\u003c/strong\u003e hasta 4 por bloque, cada una con 32 instrucciones de 16 bits.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eFIFO TX/RX:\u003c/strong\u003e buffers de 4 palabras para intercambio con la CPU o DMA.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ePins flexibles:\u003c/strong\u003e mapeo independiente para entrada, salida y side-set.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eClock divider:\u003c/strong\u003e ajusta la frecuencia de ejecuci√≥n con resoluci√≥n fraccional.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"flujo-de-trabajo\"\u003eFlujo de trabajo\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eEscribe el programa PIO en ensamblador espec√≠fico (\u003ccode\u003e.program\u003c/code\u003e).\u003c/li\u003e\n\u003cli\u003eCarga el c√≥digo en la instrucci√≥n memory del bloque PIO.\u003c/li\u003e\n\u003cli\u003eConfigura los registros de control (SM, clocks, pins).\u003c/li\u003e\n\u003cli\u003eUsa la API del SDK o MicroPython para enviar/recibir datos.\u003c/li\u003e\n\u003c/ol\u003e\n\u003chr\u003e\n\u003ch2 id=\"ejemplos-pr√°cticos\"\u003eEjemplos pr√°cticos\u003c/h2\u003e\n\u003ch3 id=\"ws2812-neopixel\"\u003eWS2812 (NeoPixel)\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eGenera los pulsos de 800 kHz con side-set para controlar tiras RGB.\u003c/li\u003e\n\u003cli\u003eLibera a la CPU para calcular animaciones mientras PIO gestiona la temporizaci√≥n.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"interfaces-vgadvi\"\u003eInterfaces VGA/DVI\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eEmite se√±ales de sincron√≠a y datos de v√≠deo usando m√∫ltiples m√°quinas coordinadas.\u003c/li\u003e\n\u003cli\u003eRequiere DMA para alimentar los buffers a alta velocidad.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"captura-de-se√±ales\"\u003eCaptura de se√±ales\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eConfigura una m√°quina PIO en modo \u003ccode\u003eIN\u003c/code\u003e para muestrear pines a alta frecuencia.\u003c/li\u003e\n\u003cli\u003eVuelca los datos a memoria mediante DMA para an√°lisis posterior.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"consejos-de-implementaci√≥n\"\u003eConsejos de implementaci√≥n\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003ePlanifica el ancho de palabra.\u003c/strong\u003e Ajusta \u003ccode\u003epush\u003c/code\u003e/\u003ccode\u003epull\u003c/code\u003e y shift registers para empaquetar datos eficientemente.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eUtiliza DMA.\u003c/strong\u003e Mantiene alimentadas las FIFOs sin bloquear la CPU.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDivide funciones entre m√°quinas.\u003c/strong\u003e Un bloque puede generar reloj y otro manejar datos.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDepura con \u003ccode\u003epioasm\u003c/code\u003e.\u003c/strong\u003e El SDK incluye herramientas para validar el programa antes de compilar.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eSincroniza con IRQ.\u003c/strong\u003e Usa interrupciones PIO para coordinar eventos con el firmware principal.\u003c/li\u003e\n\u003c/ol\u003e\n\u003chr\u003e\n\u003ch2 id=\"recursos-adicionales\"\u003eRecursos adicionales\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eDocumentaci√≥n oficial del \u003cstrong\u003eRP2040 Datasheet\u003c/strong\u003e (cap√≠tulo PIO).\u003c/li\u003e\n\u003cli\u003eEjemplos del \u003cstrong\u003ePico SDK\u003c/strong\u003e (\u003ccode\u003epio/\u003c/code\u003e): UART, I¬≤C, PWM mejorado, DVI.\u003c/li\u003e\n\u003cli\u003eLibrer√≠as comunitarias como \u003cstrong\u003erp2040-pio-emulator\u003c/strong\u003e para pruebas en PC.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eDominar PIO te permitir√° extender la Raspberry Pi Pico m√°s all√° de sus perif√©ricos est√°ndar y construir soluciones de tiempo real personalizadas.\u003c/p\u003e","tags":["PIO","Raspberry Pi Pico","RP2040","Protocolos personalizados"],"title":"M√≥dulos PIO en la Pico"},{"categories":["Comunicaciones","IoT"],"contents":"Meshtastic es un firmware open source que transforma radios LoRa de bajo costo en redes malladas para mensajer√≠a y telemetr√≠a sin infraestructura celular. Es ideal para actividades al aire libre, resiliencia ante desastres y proyectos comunitarios.\nArquitectura b√°sica Radios LoRa basados en chip SX1262/SX1276 que operan en bandas ISM (433, 868, 915 MHz). Firmware Meshtastic sobre microcontroladores ESP32, nRF52 o RP2040. Topolog√≠a mesh: cada nodo reenv√≠a mensajes de manera asincr√≥nica usando enrutamiento oportunista. Aplicaciones m√≥viles (Android/iOS) y clientes CLI/desktop que se conectan v√≠a Bluetooth o USB. Tipos de nodos Nodos personales: dispositivos port√°tiles con pantalla (LilyGO T-Beam, T-Echo) que env√≠an textos y ubicaci√≥n GPS. Nodos de infraestructura: placas alimentadas continuamente para ampliar cobertura (antenas externas, alta potencia). Nodos sensores: integran telemetr√≠a (temperatura, humedad, rel√©s) y reportan peri√≥dicamente. Configuraci√≥n inicial Instala el firmware con Meshtastic Flasher o meshtastic --flash. Empareja el dispositivo con la app m√≥vil mediante Bluetooth o USB. Ajusta canal, regi√≥n y potencia seg√∫n normativa local (duty cycle, ERP). Define roles (router, client) y habilita caracter√≠sticas como MQTT bridge o almacenamiento en tarjeta SD. Funciones destacadas Mensajer√≠a encriptada con AES-CTR y claves compartidas. Posicionamiento GPS y compartici√≥n de coordenadas con iconos personalizados. Bridge MQTT/HTTP para integrar con servidores o dashboards remotos. Telemetr√≠a extendida a trav√©s de plugins Python (meshtastic-python). Casos de uso Equipos de senderismo, ciclismo o rescate que requieren comunicaci√≥n sin cobertura celular. Redes comunitarias de alerta temprana (incendios, inundaciones). IoT rural con nodos alimentados por energ√≠a solar. Eventos temporales donde se necesita mensajer√≠a descentralizada. Buenas pr√°cticas Utiliza antenas calibradas y respeta la polarizaci√≥n para maximizar alcance. Configura intervalos de retransmisi√≥n adecuados para evitar congesti√≥n en mallas densas. Documenta claves y canales en un gestor seguro para tu equipo. Mant√©n el firmware actualizado y participa en la comunidad de GitHub/Discord para aprovechar nuevas funciones. Con esta visi√≥n podr√°s planear una red Meshtastic confiable y adaptarla a tus necesidades de comunicaci√≥n de largo alcance.\n","date":"March 16, 2024","hero":"/images/default-hero.jpg","permalink":"https://ingeniummx.github.io/posts/comunicaciones/meshtastic-explicado/","summary":"\u003cp\u003e\u003cstrong\u003eMeshtastic\u003c/strong\u003e es un firmware open source que transforma radios LoRa de bajo costo en redes malladas para mensajer√≠a y telemetr√≠a sin infraestructura celular. Es ideal para actividades al aire libre, resiliencia ante desastres y proyectos comunitarios.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"arquitectura-b√°sica\"\u003eArquitectura b√°sica\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eRadios LoRa\u003c/strong\u003e basados en chip SX1262/SX1276 que operan en bandas ISM (433, 868, 915 MHz).\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eFirmware Meshtastic\u003c/strong\u003e sobre microcontroladores ESP32, nRF52 o RP2040.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eTopolog√≠a mesh\u003c/strong\u003e: cada nodo reenv√≠a mensajes de manera asincr√≥nica usando enrutamiento oportunista.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eAplicaciones m√≥viles\u003c/strong\u003e (Android/iOS) y clientes CLI/desktop que se conectan v√≠a Bluetooth o USB.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"tipos-de-nodos\"\u003eTipos de nodos\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eNodos personales:\u003c/strong\u003e dispositivos port√°tiles con pantalla (LilyGO T-Beam, T-Echo) que env√≠an textos y ubicaci√≥n GPS.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eNodos de infraestructura:\u003c/strong\u003e placas alimentadas continuamente para ampliar cobertura (antenas externas, alta potencia).\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eNodos sensores:\u003c/strong\u003e integran telemetr√≠a (temperatura, humedad, rel√©s) y reportan peri√≥dicamente.\u003c/li\u003e\n\u003c/ol\u003e\n\u003chr\u003e\n\u003ch2 id=\"configuraci√≥n-inicial\"\u003eConfiguraci√≥n inicial\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eInstala el firmware con \u003cstrong\u003eMeshtastic Flasher\u003c/strong\u003e o \u003ccode\u003emeshtastic --flash\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003eEmpareja el dispositivo con la app m√≥vil mediante Bluetooth o USB.\u003c/li\u003e\n\u003cli\u003eAjusta \u003cstrong\u003ecanal, regi√≥n y potencia\u003c/strong\u003e seg√∫n normativa local (duty cycle, ERP).\u003c/li\u003e\n\u003cli\u003eDefine roles (router, client) y habilita caracter√≠sticas como MQTT bridge o almacenamiento en tarjeta SD.\u003c/li\u003e\n\u003c/ol\u003e\n\u003chr\u003e\n\u003ch2 id=\"funciones-destacadas\"\u003eFunciones destacadas\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eMensajer√≠a encriptada\u003c/strong\u003e con AES-CTR y claves compartidas.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ePosicionamiento GPS\u003c/strong\u003e y compartici√≥n de coordenadas con iconos personalizados.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eBridge MQTT/HTTP\u003c/strong\u003e para integrar con servidores o dashboards remotos.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eTelemetr√≠a extendida\u003c/strong\u003e a trav√©s de plugins Python (\u003ccode\u003emeshtastic-python\u003c/code\u003e).\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"casos-de-uso\"\u003eCasos de uso\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eEquipos de senderismo, ciclismo o rescate que requieren comunicaci√≥n sin cobertura celular.\u003c/li\u003e\n\u003cli\u003eRedes comunitarias de alerta temprana (incendios, inundaciones).\u003c/li\u003e\n\u003cli\u003eIoT rural con nodos alimentados por energ√≠a solar.\u003c/li\u003e\n\u003cli\u003eEventos temporales donde se necesita mensajer√≠a descentralizada.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"buenas-pr√°cticas\"\u003eBuenas pr√°cticas\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eUtiliza \u003cstrong\u003eantenas calibradas\u003c/strong\u003e y respeta la polarizaci√≥n para maximizar alcance.\u003c/li\u003e\n\u003cli\u003eConfigura \u003cstrong\u003eintervalos de retransmisi√≥n\u003c/strong\u003e adecuados para evitar congesti√≥n en mallas densas.\u003c/li\u003e\n\u003cli\u003eDocumenta \u003cstrong\u003eclaves y canales\u003c/strong\u003e en un gestor seguro para tu equipo.\u003c/li\u003e\n\u003cli\u003eMant√©n el firmware actualizado y participa en la comunidad de GitHub/Discord para aprovechar nuevas funciones.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eCon esta visi√≥n podr√°s planear una red Meshtastic confiable y adaptarla a tus necesidades de comunicaci√≥n de largo alcance.\u003c/p\u003e","tags":["LoRa","Mesh networks","Comunicaciones","IoT"],"title":"Meshtastic explicado"},{"categories":["Rob√≥tica","Software"],"contents":"ROS 2 ofrece m√∫ltiples utilidades para monitorear t√≥picos, analizar logs y depurar sistemas distribuidos. Conocer las herramientas correctas acelera el desarrollo y evita perder horas persiguiendo bugs.\nL√≠nea de comandos ros2 topic: inspecciona publicadores, suscriptores y contenido en tiempo real (ros2 topic echo, ros2 topic hz). √ötil para validar tipos de mensajes y latencias. ros2 node: lista nodos activos, interfaces y par√°metros expuestos. ros2 param: permite leer/escribir par√°metros din√°micos, ideal para ajustar PIDs o constantes sin recompilar. ros2 bag: registra y reproduce mensajes DDS para depuraci√≥n offline o an√°lisis de regresiones. Visualizaci√≥n 3D con RViz RViz es la navaja suiza para visualizar mapas, nubes de puntos y frames TF.\nCrea displays para l√°ser, c√°maras, odometr√≠a y TF. Usa Fixed Frame coherente (por ejemplo map o base_link). Configura markers y interactive markers para depurar planes y acciones. Exporta configuraciones en .rviz para compartir con tu equipo. PlotJuggler Herramienta especializada en series de tiempo.\nConecta v√≠a plugin ROS 2 para recibir t√≥picos directamente. Crea dashboards con filtros y expresiones matem√°ticas. Exporta a CSV o ROS bag para an√°lisis posterior. Ideal para ajustar controladores PID, monitorear corrientes y tensiones en robots m√≥viles. RQt y paneles personalizados RQt (Qt + plugins ROS) permite construir interfaces gr√°ficas r√°pidas:\nrqt_graph para visualizar la topolog√≠a de nodos. rqt_console y rqt_logger_level para filtrar logs. rqt_reconfigure (con ros2_control o dynamic_reconfigure) para ajustar par√°metros en vivo. Foxglove Studio Una opci√≥n moderna multiplataforma que se conecta mediante Foxglove Bridge o rosbridge.\nVisualiza t√≥picos 2D/3D, dashboards y mapas en el navegador. Graba Foxglove Data Platform o reproduce ROS bag. Integra anotaciones colaborativas y m√©tricas de rendimiento. Buenas pr√°cticas Mant√©n plantillas de configuraci√≥n. Almacena layouts de RViz, PlotJuggler y Foxglove en tu repositorio. Automatiza capturas. Usa ros2 bag en pipelines CI para comparar ejecuciones. Unifica namespaces. Consistencia en nombres simplifica filtros y scripts. Documenta flujos de trabajo. Define qu√© herramienta usar en cada etapa: bring-up, calibraci√≥n, pruebas en campo. Dominar estas utilidades te permitir√° diagnosticar robots ROS 2 con rapidez y trabajar de forma colaborativa con tu equipo.\n","date":"March 16, 2024","hero":"/images/default-hero.jpg","permalink":"https://ingeniummx.github.io/posts/robotica/herramientas-indispensables-para-ros-2/","summary":"\u003cp\u003eROS 2 ofrece m√∫ltiples utilidades para monitorear t√≥picos, analizar logs y depurar sistemas distribuidos. Conocer las herramientas correctas acelera el desarrollo y evita perder horas persiguiendo bugs.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"l√≠nea-de-comandos\"\u003eL√≠nea de comandos\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003e\u003ccode\u003eros2 topic\u003c/code\u003e\u003c/strong\u003e: inspecciona publicadores, suscriptores y contenido en tiempo real (\u003ccode\u003eros2 topic echo\u003c/code\u003e, \u003ccode\u003eros2 topic hz\u003c/code\u003e). √ötil para validar tipos de mensajes y latencias.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e\u003ccode\u003eros2 node\u003c/code\u003e\u003c/strong\u003e: lista nodos activos, interfaces y par√°metros expuestos.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e\u003ccode\u003eros2 param\u003c/code\u003e\u003c/strong\u003e: permite leer/escribir par√°metros din√°micos, ideal para ajustar PIDs o constantes sin recompilar.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e\u003ccode\u003eros2 bag\u003c/code\u003e\u003c/strong\u003e: registra y reproduce mensajes DDS para depuraci√≥n offline o an√°lisis de regresiones.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"visualizaci√≥n-3d-con-rviz\"\u003eVisualizaci√≥n 3D con RViz\u003c/h2\u003e\n\u003cp\u003eRViz es la navaja suiza para visualizar mapas, nubes de puntos y frames TF.\u003c/p\u003e","tags":["ROS 2","Rob√≥tica","Herramientas de depuraci√≥n","Visualizaci√≥n de datos"],"title":"Herramientas indispensables para ROS 2"},{"categories":["Microcontroladores","IoT"],"contents":"La familia ESP32 de Espressif incluye docenas de variantes con diferentes radios, memoria y encapsulados. Escoger el m√≥dulo correcto evita limitaciones de memoria, consumo excesivo o falta de certificaciones inal√°mbricas.\nCriterios de selecci√≥n Conectividad inal√°mbrica. ¬øNecesitas Wi-Fi 2,4 GHz, Bluetooth LE, Classic o incluso 802.15.4? Memoria y almacenamiento. Flash integrada (4‚Äì16 MB), PSRAM opcional para buffers gr√°ficos o voz. GPIO disponibles. Algunos m√≥dulos comparten pines con la antena o el cristal, reduciendo los I/O libres. Certificaciones. Para productos finales busca m√≥dulos con FCC/CE y antena integrada. Consumo energ√©tico. Eval√∫a modos de suspensi√≥n, corriente en deep sleep y voltaje operativo. Variantes populares M√≥dulo CPU RAM/Flash Radios Caracter√≠sticas clave ESP32-WROOM-32 Xtensa LX6 dual a 240 MHz 520 KB + 4 MB flash Wi-Fi + BT Classic/LE DevkitC, amplio soporte, antena PCB. ESP32-WROVER Xtensa LX6 dual 520 KB + 4 MB flash + 8 MB PSRAM Wi-Fi + BT Ideal para gr√°ficos, c√°maras o SSL pesado. ESP32-C3 RISC-V single 160 MHz 400 KB + 4 MB flash Wi-Fi + BT LE 5 Bajo consumo, pin-to-pin con ESP8266. ESP32-S3 Xtensa LX7 dual 240 MHz 512 KB + 8 MB flash/PSRAM Wi-Fi + BT LE 5 Vector instructions para IA, USB OTG. ESP32-C6 RISC-V single 160 MHz 512 KB + 4 MB flash Wi-Fi 6 + BT LE 5 + 802.15.4 Thread/Matter listo, eficiente. Devkits recomendados ESP32-DevKitC: Referencia b√°sica para WROOM. Incluye convertidor USB-UART y f√°cil acceso a pines. ESP32-S3-DevKitC-1: Para proyectos de visi√≥n gracias a USB nativo y soporte para c√°maras. ESP32-C3-DevKitM-1: Ideal para wearables y sensores de baja potencia. LilyGO T-Display / T-Embed: A√±aden pantalla IPS, ranura microSD y bater√≠a LiPo integrada. Consejos pr√°cticos Define primero la pila de software. ESP-IDF, Arduino Core, MicroPython o circuitos con Matter pueden requerir memoria adicional. Revisa el pinout oficial. Algunos GPIO no toleran 5 V o est√°n reservados para arranque (GPIO0, GPIO2, GPIO15). Planea la antena. Respeta el keep-out de la PCB o el conector U.FL para no degradar la potencia. Aprovecha los modos de bajo consumo. Configura RTC, ULP y wake-up por GPIO o temporizador para aplicaciones alimentadas por bater√≠a. Certifica tu producto. Usa m√≥dulos pre-certificados y documenta las pruebas de radiofrecuencia. Con esta matriz podr√°s elegir el m√≥dulo ESP32 que mejor se ajuste a tu presupuesto, consumo y requisitos de conectividad.\n","date":"March 16, 2024","hero":"/images/default-hero.jpg","permalink":"https://ingeniummx.github.io/posts/microcontroladores/elegir-la-esp32-adecuada/","summary":"\u003cp\u003eLa familia \u003cstrong\u003eESP32\u003c/strong\u003e de Espressif incluye docenas de variantes con diferentes radios, memoria y encapsulados. Escoger el m√≥dulo correcto evita limitaciones de memoria, consumo excesivo o falta de certificaciones inal√°mbricas.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"criterios-de-selecci√≥n\"\u003eCriterios de selecci√≥n\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eConectividad inal√°mbrica.\u003c/strong\u003e ¬øNecesitas Wi-Fi 2,4 GHz, Bluetooth LE, Classic o incluso 802.15.4?\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eMemoria y almacenamiento.\u003c/strong\u003e Flash integrada (4‚Äì16 MB), PSRAM opcional para buffers gr√°ficos o voz.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eGPIO disponibles.\u003c/strong\u003e Algunos m√≥dulos comparten pines con la antena o el cristal, reduciendo los I/O libres.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eCertificaciones.\u003c/strong\u003e Para productos finales busca m√≥dulos con FCC/CE y antena integrada.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eConsumo energ√©tico.\u003c/strong\u003e Eval√∫a modos de suspensi√≥n, corriente en deep sleep y voltaje operativo.\u003c/li\u003e\n\u003c/ol\u003e\n\u003chr\u003e\n\u003ch2 id=\"variantes-populares\"\u003eVariantes populares\u003c/h2\u003e\n\u003ctable\u003e\n  \u003cthead\u003e\n      \u003ctr\u003e\n          \u003cth\u003eM√≥dulo\u003c/th\u003e\n          \u003cth\u003eCPU\u003c/th\u003e\n          \u003cth\u003eRAM/Flash\u003c/th\u003e\n          \u003cth\u003eRadios\u003c/th\u003e\n          \u003cth\u003eCaracter√≠sticas clave\u003c/th\u003e\n      \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eESP32-WROOM-32\u003c/td\u003e\n          \u003ctd\u003eXtensa LX6 dual a 240 MHz\u003c/td\u003e\n          \u003ctd\u003e520 KB + 4 MB flash\u003c/td\u003e\n          \u003ctd\u003eWi-Fi + BT Classic/LE\u003c/td\u003e\n          \u003ctd\u003eDevkitC, amplio soporte, antena PCB.\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eESP32-WROVER\u003c/td\u003e\n          \u003ctd\u003eXtensa LX6 dual\u003c/td\u003e\n          \u003ctd\u003e520 KB + 4 MB flash + 8 MB PSRAM\u003c/td\u003e\n          \u003ctd\u003eWi-Fi + BT\u003c/td\u003e\n          \u003ctd\u003eIdeal para gr√°ficos, c√°maras o SSL pesado.\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eESP32-C3\u003c/td\u003e\n          \u003ctd\u003eRISC-V single 160 MHz\u003c/td\u003e\n          \u003ctd\u003e400 KB + 4 MB flash\u003c/td\u003e\n          \u003ctd\u003eWi-Fi + BT LE 5\u003c/td\u003e\n          \u003ctd\u003eBajo consumo, pin-to-pin con ESP8266.\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eESP32-S3\u003c/td\u003e\n          \u003ctd\u003eXtensa LX7 dual 240 MHz\u003c/td\u003e\n          \u003ctd\u003e512 KB + 8 MB flash/PSRAM\u003c/td\u003e\n          \u003ctd\u003eWi-Fi + BT LE 5\u003c/td\u003e\n          \u003ctd\u003eVector instructions para IA, USB OTG.\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eESP32-C6\u003c/td\u003e\n          \u003ctd\u003eRISC-V single 160 MHz\u003c/td\u003e\n          \u003ctd\u003e512 KB + 4 MB flash\u003c/td\u003e\n          \u003ctd\u003eWi-Fi 6 + BT LE 5 + 802.15.4\u003c/td\u003e\n          \u003ctd\u003eThread/Matter listo, eficiente.\u003c/td\u003e\n      \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003chr\u003e\n\u003ch2 id=\"devkits-recomendados\"\u003eDevkits recomendados\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eESP32-DevKitC:\u003c/strong\u003e Referencia b√°sica para WROOM. Incluye convertidor USB-UART y f√°cil acceso a pines.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eESP32-S3-DevKitC-1:\u003c/strong\u003e Para proyectos de visi√≥n gracias a USB nativo y soporte para c√°maras.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eESP32-C3-DevKitM-1:\u003c/strong\u003e Ideal para wearables y sensores de baja potencia.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eLilyGO T-Display / T-Embed:\u003c/strong\u003e A√±aden pantalla IPS, ranura microSD y bater√≠a LiPo integrada.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"consejos-pr√°cticos\"\u003eConsejos pr√°cticos\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eDefine primero la pila de software.\u003c/strong\u003e ESP-IDF, Arduino Core, MicroPython o circuitos con Matter pueden requerir memoria adicional.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eRevisa el pinout oficial.\u003c/strong\u003e Algunos GPIO no toleran 5 V o est√°n reservados para arranque (GPIO0, GPIO2, GPIO15).\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ePlanea la antena.\u003c/strong\u003e Respeta el keep-out de la PCB o el conector U.FL para no degradar la potencia.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eAprovecha los modos de bajo consumo.\u003c/strong\u003e Configura RTC, ULP y wake-up por GPIO o temporizador para aplicaciones alimentadas por bater√≠a.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eCertifica tu producto.\u003c/strong\u003e Usa m√≥dulos pre-certificados y documenta las pruebas de radiofrecuencia.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eCon esta matriz podr√°s elegir el m√≥dulo ESP32 que mejor se ajuste a tu presupuesto, consumo y requisitos de conectividad.\u003c/p\u003e","tags":["ESP32","IoT","Wi-Fi","Bluetooth"],"title":"Elegir la ESP32 adecuada"},{"categories":["Microcontroladores","Hardware"],"contents":"La Raspberry Pi Pico es la primera placa oficial basada en el microcontrolador RP2040 de la Fundaci√≥n Raspberry Pi. Combina precio contenido, doble n√∫cleo Cortex-M0+ y perif√©ricos flexibles que la convierten en una plataforma ideal para proyectos embebidos y de ense√±anza.\nEspecificaciones esenciales Microcontrolador: RP2040 con dos n√∫cleos Arm Cortex-M0+ a 133 MHz (overclock estable hasta ~250 MHz). Memoria: 264 KB de SRAM repartida en bancos y hasta 16 MB de flash externa QSPI. Perif√©ricos: 30 GPIO, 2√óUSB 1.1, 2√óUART, 2√óI¬≤C, 2√óSPI, 16 canales PWM, ADC de 12 bits, 8 m√°quinas PIO. Alimentaci√≥n: 1,8‚Äì5,5 V, regulador buck-boost integrado. Formatos: Pico est√°ndar, Pico W (Wi-Fi), Pico H (headers soldados) y m√≥dulos embebibles. Fortalezas del RP2040 PIO (Programmable I/O). Motores de estado que permiten implementar protocolos personalizados a nivel de hardware. Doble n√∫cleo. Separar tareas cr√≠ticas en un core mientras el otro maneja l√≥gica de alto nivel. Bajo costo y disponibilidad. La placa base ronda los 4 USD. Comunidad y documentaci√≥n amplia. SDK en C/C++, MicroPython, CircuitPython y ejemplos oficiales. Casos de uso recomendados Controladores de robots educativos gracias a su PWM abundante y soporte MicroPython. Interfaces personalizadas (DVI, VGA, audio PDM) mediante PIO. IoT econ√≥mico con el modelo Pico W y su m√≥dulo Wi-Fi CYW43439. Instrumentos de laboratorio DIY como generadores de se√±ales y analizadores l√≥gicos. Ecosistema de software Pico SDK (C/C++). Acceso directo al hardware con CMake, soporte para FreeRTOS y drivers oficiales. MicroPython y CircuitPython. Repl inmediato, ideal para iterar r√°pido. TinyUSB. Implementaciones de dispositivos USB (CDC, HID, MIDI) listas para usar. Bibliotecas de terceros. Drivers para pantallas, sensores y motores mantenidos por la comunidad. Consejos para proyectos Usa el SMPS integrado (VSYS) para alimentar sensores de 3,3 V y evita exceder 300 mA. Aprovecha el debug por SWD expuesto en los pads debajo de la placa. Para aplicaciones cr√≠ticas, a√±ade flash externa de calidad y watchdog habilitado. Documenta la versi√≥n del SDK en tu repositorio para reproducibilidad. Con estos puntos tendr√°s un panorama claro de lo que ofrece la Raspberry Pi Pico y podr√°s decidir cu√°ndo utilizarla frente a otras opciones.\n","date":"March 16, 2024","hero":"/images/default-hero.jpg","permalink":"https://ingeniummx.github.io/posts/microcontroladores/raspberry-pi-pico/","summary":"\u003cp\u003eLa \u003cstrong\u003eRaspberry Pi Pico\u003c/strong\u003e es la primera placa oficial basada en el microcontrolador RP2040 de la Fundaci√≥n Raspberry Pi. Combina precio contenido, doble n√∫cleo Cortex-M0+ y perif√©ricos flexibles que la convierten en una plataforma ideal para proyectos embebidos y de ense√±anza.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"especificaciones-esenciales\"\u003eEspecificaciones esenciales\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eMicrocontrolador:\u003c/strong\u003e RP2040 con dos n√∫cleos Arm Cortex-M0+ a 133 MHz (overclock estable hasta ~250 MHz).\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eMemoria:\u003c/strong\u003e 264 KB de SRAM repartida en bancos y hasta 16 MB de flash externa QSPI.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ePerif√©ricos:\u003c/strong\u003e 30 GPIO, 2√óUSB 1.1, 2√óUART, 2√óI¬≤C, 2√óSPI, 16 canales PWM, ADC de 12 bits, 8 m√°quinas PIO.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eAlimentaci√≥n:\u003c/strong\u003e 1,8‚Äì5,5 V, regulador buck-boost integrado.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eFormatos:\u003c/strong\u003e Pico est√°ndar, Pico W (Wi-Fi), Pico H (headers soldados) y m√≥dulos embebibles.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"fortalezas-del-rp2040\"\u003eFortalezas del RP2040\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003ePIO (Programmable I/O).\u003c/strong\u003e Motores de estado que permiten implementar protocolos personalizados a nivel de hardware.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDoble n√∫cleo.\u003c/strong\u003e Separar tareas cr√≠ticas en un core mientras el otro maneja l√≥gica de alto nivel.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eBajo costo y disponibilidad.\u003c/strong\u003e La placa base ronda los 4 USD.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eComunidad y documentaci√≥n amplia.\u003c/strong\u003e SDK en C/C++, MicroPython, CircuitPython y ejemplos oficiales.\u003c/li\u003e\n\u003c/ol\u003e\n\u003chr\u003e\n\u003ch2 id=\"casos-de-uso-recomendados\"\u003eCasos de uso recomendados\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eControladores de robots educativos\u003c/strong\u003e gracias a su PWM abundante y soporte MicroPython.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eInterfaces personalizadas\u003c/strong\u003e (DVI, VGA, audio PDM) mediante PIO.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eIoT econ√≥mico\u003c/strong\u003e con el modelo Pico W y su m√≥dulo Wi-Fi CYW43439.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eInstrumentos de laboratorio DIY\u003c/strong\u003e como generadores de se√±ales y analizadores l√≥gicos.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"ecosistema-de-software\"\u003eEcosistema de software\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003ePico SDK (C/C++).\u003c/strong\u003e Acceso directo al hardware con CMake, soporte para FreeRTOS y drivers oficiales.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eMicroPython y CircuitPython.\u003c/strong\u003e Repl inmediato, ideal para iterar r√°pido.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eTinyUSB.\u003c/strong\u003e Implementaciones de dispositivos USB (CDC, HID, MIDI) listas para usar.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eBibliotecas de terceros.\u003c/strong\u003e Drivers para pantallas, sensores y motores mantenidos por la comunidad.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"consejos-para-proyectos\"\u003eConsejos para proyectos\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eUsa el \u003cstrong\u003eSMPS integrado\u003c/strong\u003e (VSYS) para alimentar sensores de 3,3 V y evita exceder 300 mA.\u003c/li\u003e\n\u003cli\u003eAprovecha el \u003cstrong\u003edebug por SWD\u003c/strong\u003e expuesto en los pads debajo de la placa.\u003c/li\u003e\n\u003cli\u003ePara aplicaciones cr√≠ticas, a√±ade \u003cstrong\u003eflash externa de calidad\u003c/strong\u003e y watchdog habilitado.\u003c/li\u003e\n\u003cli\u003eDocumenta la versi√≥n del SDK en tu repositorio para reproducibilidad.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eCon estos puntos tendr√°s un panorama claro de lo que ofrece la Raspberry Pi Pico y podr√°s decidir cu√°ndo utilizarla frente a otras opciones.\u003c/p\u003e","tags":["Raspberry Pi Pico","RP2040","Microcontroladores","Prototipado"],"title":"Raspberry Pi Pico"},{"categories":["Electr√≥nica","Energ√≠a"],"contents":"Elegir la bater√≠a correcta evita apagones, sobrecalentamientos y ciclos de vida cortos. Esta gu√≠a resume las qu√≠micas m√°s comunes, sus par√°metros clave y criterios para combinarlas con tu electr√≥nica.\nPar√°metros cr√≠ticos Voltaje nominal y rango operativo. Aseg√∫rate de que la tensi√≥n se mantenga dentro del margen de tu electr√≥nica y reguladores. Capacidad (mAh o Wh). Calcula el consumo promedio y el pico. Multiplica por el tiempo deseado y agrega un 20‚Äì30‚ÄØ% de margen. Capacidad de descarga (C-rate). Determina la corriente m√°xima continua y en r√°fagas. Ciclo de vida. Considera cu√°ntos ciclos completos soporta antes de caer al 80‚ÄØ%. Temperatura y seguridad. Verifica l√≠mites de operaci√≥n y si necesitas circuitos de protecci√≥n. Tabla comparativa Qu√≠mica Voltaje por celda Densidad energ√©tica C-rate t√≠pica Puntos fuertes Precauciones LiPo (Li-ion pol√≠mero) 3,7 V (2,7‚Äì4,2 V) Muy alta 1C‚Äì35C Ligera, entrega altas corrientes. Necesita balanceo y protecci√≥n contra sobrecarga/descarga. LiFePO‚ÇÑ 3,2 V (2,5‚Äì3,6 V) Media 1C‚Äì5C Segura, \u0026gt;2000 ciclos, estable t√©rmicamente. Voltaje por celda menor, requiere m√°s celdas en serie. Plomo-√°cido (SLA, AGM) 2,0 V (1,8‚Äì2,4 V) Baja 0,2C‚Äì1C Econ√≥mica, disponible en altos Ah. Pesada, no tolera descargas profundas continuas. NiMH 1,2 V (1,0‚Äì1,4 V) Media 0,5C‚Äì5C Robusta, f√°cil de cargar. Autodescarga alta, requiere cargador inteligente. 18650 Li-ion 3,6 V (2,5‚Äì4,2 V) Muy alta 1C‚Äì10C Modular, buena densidad. Igual que LiPo: protecci√≥n obligatoria. Seleccionar el formato Drones y rob√≥tica m√≥vil: LiPo por su alta potencia instant√°nea. Incluye monitorizaci√≥n individual de celdas y bolsas ign√≠fugas. IoT estacionario o respaldo: LiFePO‚ÇÑ por seguridad y longevidad. Combina con BMS y cargador CC/CV dedicado. Prototipos econ√≥micos: Pack de NiMH AA recargables o SLA peque√±o. Aceptan maltrato y son f√°ciles de encontrar. Aplicaciones industriales 24/7: LiFePO‚ÇÑ o Li-ion con celdas 18650 de calidad, gestionadas con BMS redundante y telemetr√≠a. Gesti√≥n y protecci√≥n Incluye un BMS adecuado. Asegura balanceo, corte por sobrecorriente y protecci√≥n t√©rmica. Dimensiona el cargador. La corriente recomendada suele ser 0,5C para LiPo/Li-ion y 0,3C para LiFePO‚ÇÑ. Regulaci√≥n de voltaje. Usa convertidores buck/boost para entregar tensiones estables a tu circuito. Plan de almacenamiento. LiPo al 40‚Äì60‚ÄØ% y en bolsas ign√≠fugas; plomo-√°cido siempre cargadas. Monitoreo en campo. Integra medidores de coulomb, estimaci√≥n de SoC y alarmas de temperatura. Checklist r√°pido ¬øLa qu√≠mica soporta la corriente pico de tu carga? ¬øTu BMS controla temperatura, balance y sobrecarga? ¬øEl cargador respeta curvas CC/CV o delta-peak seg√∫n la qu√≠mica? ¬øLa caja o chasis incluye ventilaci√≥n y protecci√≥n mec√°nica? ¬øDocumentaste procedimiento de transporte y reciclaje? Con estos pasos podr√°s seleccionar una bater√≠a que equilibre seguridad, autonom√≠a y costo sin sorpresas en el laboratorio ni en campo.\n","date":"March 16, 2024","hero":"/images/default-hero.jpg","permalink":"https://ingeniummx.github.io/posts/electronica/c%C3%B3mo-escoger-bater%C3%ADas/","summary":"\u003cp\u003eElegir la bater√≠a correcta evita apagones, sobrecalentamientos y ciclos de vida cortos. Esta gu√≠a resume las qu√≠micas m√°s comunes, sus par√°metros clave y criterios para combinarlas con tu electr√≥nica.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"par√°metros-cr√≠ticos\"\u003ePar√°metros cr√≠ticos\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eVoltaje nominal y rango operativo.\u003c/strong\u003e Aseg√∫rate de que la tensi√≥n se mantenga dentro del margen de tu electr√≥nica y reguladores.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eCapacidad (mAh o Wh).\u003c/strong\u003e Calcula el consumo promedio y el pico. Multiplica por el tiempo deseado y agrega un 20‚Äì30‚ÄØ% de margen.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eCapacidad de descarga (C-rate).\u003c/strong\u003e Determina la corriente m√°xima continua y en r√°fagas.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eCiclo de vida.\u003c/strong\u003e Considera cu√°ntos ciclos completos soporta antes de caer al 80‚ÄØ%.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eTemperatura y seguridad.\u003c/strong\u003e Verifica l√≠mites de operaci√≥n y si necesitas circuitos de protecci√≥n.\u003c/li\u003e\n\u003c/ol\u003e\n\u003chr\u003e\n\u003ch2 id=\"tabla-comparativa\"\u003eTabla comparativa\u003c/h2\u003e\n\u003ctable\u003e\n  \u003cthead\u003e\n      \u003ctr\u003e\n          \u003cth\u003eQu√≠mica\u003c/th\u003e\n          \u003cth\u003eVoltaje por celda\u003c/th\u003e\n          \u003cth\u003eDensidad energ√©tica\u003c/th\u003e\n          \u003cth\u003eC-rate t√≠pica\u003c/th\u003e\n          \u003cth\u003ePuntos fuertes\u003c/th\u003e\n          \u003cth\u003ePrecauciones\u003c/th\u003e\n      \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eLiPo (Li-ion pol√≠mero)\u003c/td\u003e\n          \u003ctd\u003e3,7 V (2,7‚Äì4,2 V)\u003c/td\u003e\n          \u003ctd\u003eMuy alta\u003c/td\u003e\n          \u003ctd\u003e1C‚Äì35C\u003c/td\u003e\n          \u003ctd\u003eLigera, entrega altas corrientes.\u003c/td\u003e\n          \u003ctd\u003eNecesita balanceo y protecci√≥n contra sobrecarga/descarga.\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eLiFePO‚ÇÑ\u003c/td\u003e\n          \u003ctd\u003e3,2 V (2,5‚Äì3,6 V)\u003c/td\u003e\n          \u003ctd\u003eMedia\u003c/td\u003e\n          \u003ctd\u003e1C‚Äì5C\u003c/td\u003e\n          \u003ctd\u003eSegura, \u0026gt;2000 ciclos, estable t√©rmicamente.\u003c/td\u003e\n          \u003ctd\u003eVoltaje por celda menor, requiere m√°s celdas en serie.\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003ePlomo-√°cido (SLA, AGM)\u003c/td\u003e\n          \u003ctd\u003e2,0 V (1,8‚Äì2,4 V)\u003c/td\u003e\n          \u003ctd\u003eBaja\u003c/td\u003e\n          \u003ctd\u003e0,2C‚Äì1C\u003c/td\u003e\n          \u003ctd\u003eEcon√≥mica, disponible en altos Ah.\u003c/td\u003e\n          \u003ctd\u003ePesada, no tolera descargas profundas continuas.\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eNiMH\u003c/td\u003e\n          \u003ctd\u003e1,2 V (1,0‚Äì1,4 V)\u003c/td\u003e\n          \u003ctd\u003eMedia\u003c/td\u003e\n          \u003ctd\u003e0,5C‚Äì5C\u003c/td\u003e\n          \u003ctd\u003eRobusta, f√°cil de cargar.\u003c/td\u003e\n          \u003ctd\u003eAutodescarga alta, requiere cargador inteligente.\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e18650 Li-ion\u003c/td\u003e\n          \u003ctd\u003e3,6 V (2,5‚Äì4,2 V)\u003c/td\u003e\n          \u003ctd\u003eMuy alta\u003c/td\u003e\n          \u003ctd\u003e1C‚Äì10C\u003c/td\u003e\n          \u003ctd\u003eModular, buena densidad.\u003c/td\u003e\n          \u003ctd\u003eIgual que LiPo: protecci√≥n obligatoria.\u003c/td\u003e\n      \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003chr\u003e\n\u003ch2 id=\"seleccionar-el-formato\"\u003eSeleccionar el formato\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eDrones y rob√≥tica m√≥vil:\u003c/strong\u003e LiPo por su alta potencia instant√°nea. Incluye monitorizaci√≥n individual de celdas y bolsas ign√≠fugas.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eIoT estacionario o respaldo:\u003c/strong\u003e LiFePO‚ÇÑ por seguridad y longevidad. Combina con BMS y cargador CC/CV dedicado.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ePrototipos econ√≥micos:\u003c/strong\u003e Pack de NiMH AA recargables o SLA peque√±o. Aceptan maltrato y son f√°ciles de encontrar.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eAplicaciones industriales 24/7:\u003c/strong\u003e LiFePO‚ÇÑ o Li-ion con celdas 18650 de calidad, gestionadas con BMS redundante y telemetr√≠a.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"gesti√≥n-y-protecci√≥n\"\u003eGesti√≥n y protecci√≥n\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eIncluye un BMS adecuado.\u003c/strong\u003e Asegura balanceo, corte por sobrecorriente y protecci√≥n t√©rmica.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDimensiona el cargador.\u003c/strong\u003e La corriente recomendada suele ser 0,5C para LiPo/Li-ion y 0,3C para LiFePO‚ÇÑ.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eRegulaci√≥n de voltaje.\u003c/strong\u003e Usa convertidores buck/boost para entregar tensiones estables a tu circuito.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ePlan de almacenamiento.\u003c/strong\u003e LiPo al 40‚Äì60‚ÄØ% y en bolsas ign√≠fugas; plomo-√°cido siempre cargadas.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eMonitoreo en campo.\u003c/strong\u003e Integra medidores de coulomb, estimaci√≥n de SoC y alarmas de temperatura.\u003c/li\u003e\n\u003c/ol\u003e\n\u003chr\u003e\n\u003ch2 id=\"checklist-r√°pido\"\u003eChecklist r√°pido\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cinput disabled=\"\" type=\"checkbox\"\u003e ¬øLa qu√≠mica soporta la corriente pico de tu carga?\u003c/li\u003e\n\u003cli\u003e\u003cinput disabled=\"\" type=\"checkbox\"\u003e ¬øTu BMS controla temperatura, balance y sobrecarga?\u003c/li\u003e\n\u003cli\u003e\u003cinput disabled=\"\" type=\"checkbox\"\u003e ¬øEl cargador respeta curvas CC/CV o delta-peak seg√∫n la qu√≠mica?\u003c/li\u003e\n\u003cli\u003e\u003cinput disabled=\"\" type=\"checkbox\"\u003e ¬øLa caja o chasis incluye ventilaci√≥n y protecci√≥n mec√°nica?\u003c/li\u003e\n\u003cli\u003e\u003cinput disabled=\"\" type=\"checkbox\"\u003e ¬øDocumentaste procedimiento de transporte y reciclaje?\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eCon estos pasos podr√°s seleccionar una bater√≠a que equilibre seguridad, autonom√≠a y costo sin sorpresas en el laboratorio ni en campo.\u003c/p\u003e","tags":["Bater√≠as","Alimentaci√≥n","Energ√≠a port√°til","Power design"],"title":"C√≥mo escoger bater√≠as"},{"categories":["Electr√≥nica","B√°sico"],"contents":"Las entradas digitales en microcontroladores, FPGAs o sensores necesitan una referencia estable de nivel l√≥gico cuando el pulsador o dispositivo externo est√° abierto. Para lograrlo usamos resistencias pull-up y pull-down. Saber cu√°ndo elegir cada una evita lecturas err√°ticas y consumo innecesario.\nQu√© hace una resistencia pull-up Una pull-up conecta la entrada a (V_{CC}) mediante una resistencia. Cuando el bot√≥n est√° abierto la entrada lee un \u0026ldquo;1\u0026rdquo; l√≥gico; al cerrar el contacto hacia tierra, la corriente fluye a trav√©s de la resistencia y el nodo cae a \u0026ldquo;0\u0026rdquo;.\nVentajas principales:\nPermite usar interruptores a GND, que suelen tener menos ruido. Compatible con buses open-drain/open-collector (I¬≤C, 1-Wire). Protege el pin ante cortos accidentales a tierra limitando la corriente a (I = \\frac{V_{CC}}{R}). Cuida que el nivel alto cumpla la ecuaci√≥n:\n[ V_{INH} = V_{CC} - I_{leak} \\cdot R_{PU} ]\ndonde (I_{leak}) es la corriente de fuga del pin. Si el resultado baja del umbral l√≥gico alto, reduce el valor de la resistencia.\nQu√© hace una resistencia pull-down Una pull-down amarra la entrada a tierra. El pin lee \u0026ldquo;0\u0026rdquo; en reposo y sube a \u0026ldquo;1\u0026rdquo; cuando se conecta a (V_{CC}).\nSe usa cuando:\nEl dispositivo externo entrega un nivel alto activo (sensores NPN open-collector, PLCs de 24 V con optoacopladores). Se requieren interruptores a (V_{CC}) por motivos de seguridad (por ejemplo, detectar cable cortado). El pin interno solo ofrece pull-up configurable y necesitas el estado contrario. C√≥mo dimensionar el valor La resistencia debe ser lo suficientemente baja para vencer corrientes de fuga y EMI, pero alta para limitar consumo.\nContexto Rango t√≠pico Buses I¬≤C 3,3 V (100 kHz) 2,2 kŒ© ‚Äì 4,7 kŒ© Entradas GPIO generales 4,7 kŒ© ‚Äì 47 kŒ© Entradas de alta impedancia (comparadores) 100 kŒ© ‚Äì 1 MŒ© Si hay capacitancia par√°sita en el nodo, el tiempo de subida (t_r = 2,2 R C). A mayor R o C, m√°s lento el flanco: considera reducir el valor o colocar un buffer Schmitt trigger.\nPull-ups internas vs externas La mayor√≠a de microcontroladores incluyen pull-ups/pull-downs configurables (10 kŒ© ‚Äì 50 kŒ©). √ösalas para prototipos, pero a√±ade componentes externos cuando:\nNecesitas valores m√°s precisos o fuertes (1 kŒ©) para buses r√°pidos. El pin debe soportar m√°s de (V_{CC}) (por ejemplo, 12 V con optoacopladores). Requieres tolerancia t√©rmica y confiabilidad a largo plazo. Buenas pr√°cticas Documenta la l√≥gica activa en esquem√°ticos y firmware. Evita invertir se√±ales por error. A√±ade filtrado RC en l√≠neas expuestas a cables largos. Combina con protecci√≥n ESD mediante diodos TVS si el pin sale al exterior. Verifica el consumo en reposo: con 3,3 V y una pull-down de 4,7 kŒ©, el bot√≥n presionado consume ~0,7 mA. Con estos criterios podr√°s definir r√°pidamente qu√© estrategia usar y garantizar que tus entradas digitales sean estables en cualquier entorno.\n","date":"March 16, 2024","hero":"/images/default-hero.jpg","permalink":"https://ingeniummx.github.io/posts/electronica/pull-up-vs-pull-down/","summary":"\u003cp\u003eLas entradas digitales en microcontroladores, FPGAs o sensores necesitan una referencia estable de nivel l√≥gico cuando el pulsador o dispositivo externo est√° abierto. Para lograrlo usamos \u003cstrong\u003eresistencias pull-up y pull-down\u003c/strong\u003e. Saber cu√°ndo elegir cada una evita lecturas err√°ticas y consumo innecesario.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"qu√©-hace-una-resistencia-pull-up\"\u003eQu√© hace una resistencia pull-up\u003c/h2\u003e\n\u003cp\u003eUna \u003cstrong\u003epull-up\u003c/strong\u003e conecta la entrada a (V_{CC}) mediante una resistencia. Cuando el bot√≥n est√° abierto la entrada lee un \u0026ldquo;1\u0026rdquo; l√≥gico; al cerrar el contacto hacia tierra, la corriente fluye a trav√©s de la resistencia y el nodo cae a \u0026ldquo;0\u0026rdquo;.\u003c/p\u003e","tags":["Resistencias","Entradas digitales","Microcontroladores","Dise√±o electr√≥nico"],"title":"Pull-up vs pull-down"},{"categories":["Electr√≥nica","Control de movimiento","Mecatr√≥nica"],"contents":"Los motores a pasos (stepper motors) convierten pulsos el√©ctricos en movimientos angulares discretos. En cada paso el eje gira un √°ngulo fijo (1,8¬∞, 0,9¬∞, etc.), por lo que podemos posicionar cargas sin retroalimentaci√≥n mec√°nica adicional.\n¬øC√≥mo funciona un motor a pasos? Un motor a pasos t√≠pico tiene:\nEstator con varias bobinas agrupadas en fases. Rotor dentado con imanes permanentes o material ferroso. Secuencia de excitaci√≥n: aplicar corriente a las bobinas en un orden preciso genera un campo magn√©tico rotatorio que ‚Äúarrastra‚Äù al rotor. Cada vez que cambiamos la fase energizada el rotor avanza un paso. Si completamos (N) pasos obtenemos una vuelta completa, y podemos calcular los pasos por vuelta como:\n[ \\text{pasos por vuelta} = \\frac{360^{\\circ}}{\\text{√°ngulo por paso}} ]\nPor ejemplo, un motor de 1,8¬∞ necesita 200 pasos para girar 360¬∞.\nModos de operaci√≥n Pasos completos: energiza una fase a la vez. Ofrece el par nominal pero la resoluci√≥n est√° limitada al √°ngulo por paso. Medios pasos: alterna entre una fase y dos fases activas. Duplica la resoluci√≥n (1,8¬∞ ‚Üí 0,9¬∞) con ligero rizado de par. Microstepping: el driver modula corrientes senoidales para dividir cada paso en hasta 1/256. Reduce vibraciones y resonancias, ideal para impresoras 3D y CNC peque√±os. Tipos de motores a pasos Tipo Caracter√≠sticas Ventajas Desventajas Casos t√≠picos Reluctancia variable Rotor dentado sin imanes. Construcci√≥n econ√≥mica, respuesta r√°pida. Bajo par y f√°cil p√©rdida de pasos. Instrumentaci√≥n, actuadores ligeros. Im√°n permanente Rotor con imanes axiales. Par moderado con electr√≥nica simple. Tama√±o reducido, limitado en velocidad. Esc√°neres, c√°maras, actuadores lineales. H√≠brido (PM + reluctancia) Combina imanes y dientes finos (1,8¬∞ o 0,9¬∞). Alto par/volumen, buena precisi√≥n. Precio y necesidad de drivers m√°s finos. CNC, impresoras 3D, rob√≥tica ligera. Tambi√©n encontrar√°s configuraciones unipolares (cada fase dividida en dos enrollados con derivaci√≥n central, f√°ciles de manejar con transistores o ULN2003) y bipolares (una bobina por fase, requieren puentes H pero ofrecen m√°s par por cobre).\n¬øD√≥nde se usan los motores a pasos? Impresoras 3D y CNC de escritorio: posicionamiento de ejes XYZ y extrusores. Rob√≥tica y automatizaci√≥n ligera: p√≥rticos pick-and-place, dispensadores de componentes. Instrumentaci√≥n y medici√≥n: control de v√°lvulas, galvan√≥metros digitales, √≥pticas. Electr√≥nica de consumo: unidades de disquete, lentes de c√°maras, lectores de tarjetas. Su mayor fortaleza es el posicionamiento abierto (open-loop) con buena repetibilidad sin necesidad de encoders.\nDrivers y t√©cnicas de control Para moverlos correctamente necesitas un driver que entregue corriente controlada:\nULN2003 / ULN2803: matrices Darlington para motores unipolares peque√±os (28BYJ-48). Control tipo paso a paso desde un microcontrolador. L298N / L293D: puentes H cl√°sicos. Funcionan, pero son ineficientes para corrientes altas. A4988, DRV8825, TMC2208/2209: drivers de micropasos con regulaci√≥n de corriente por chopping, ideales para motores bipolares de 1‚Äì2 A. Drivers industriales (Leadshine, Gecko, etc.): aceptan se√±ales STEP/DIR o comunicaci√≥n digital y pueden trabajar a decenas de voltios y amperios. Buenas pr√°cticas de control:\nRegular la corriente: el par depende de la corriente RMS, no del voltaje. Ajusta los potenci√≥metros o usa drivers con autoajuste. Aumentar el voltaje de alimentaci√≥n: dentro del rango del driver, un voltaje m√°s alto vence la inductancia y mantiene el par a alta velocidad. Rampas de aceleraci√≥n/desaceleraci√≥n: evita perder pasos al arrancar o detener cargas inerciales. Evitar resonancias: prueba diferentes microsteppings y a√±ade amortiguadores o correas para suavizar vibraciones. C√≥mo elegir el motor correcto Par requerido Calcula el par de carga (Nm o kg¬∑cm). A√±ade un 30‚Äì50‚ÄØ% de margen para fricci√≥n y aceleraci√≥n. √Ångulo por paso / resoluci√≥n ¬øNecesitas 200 pasos por vuelta (1,8¬∞) o 400 pasos (0,9¬∞)? Considera el microstepping disponible. Tama√±o y est√°ndar NEMA NEMA 17, 23, 34‚Ä¶ indica el tama√±o de la brida en pulgadas √ó10. A mayor tama√±o, m√°s par. Corriente nominal y resistencia de bobina Define el driver y la fuente. Motores de baja resistencia funcionan mejor con drivers de corriente constante. Velocidad m√°xima Revisa curvas par‚Äìvelocidad. El par cae a medida que aumenta la velocidad, especialmente en motores grandes con inductancia alta. Tipo de eje y acople Ejes lisos, estriados, con doble salida. Facilita el montaje en poleas, acoples flexibles o husillos. Ambiente y ciclo de trabajo Temperaturas elevadas o operaci√≥n 24/7 requieren revisar aislamiento, ventilaci√≥n y l√≠mites t√©rmicos. Checklist r√°pido antes de comprar ¬øEl driver soporta la corriente RMS del motor? ¬øLa fuente de alimentaci√≥n entrega el voltaje y corriente suficientes? ¬øIncluiste rampas de aceleraci√≥n en el firmware? ¬øEl montaje mec√°nico evita cargas laterales en el eje? ¬øNecesitas un encoder o final de carrera como respaldo? Consejos finales Protege tus bobinas: usa diodos flyback o drivers con protecci√≥n integrada. Mide la temperatura durante las pruebas. Un motor a pasos puede operar caliente (70‚Äì80‚ÄØ¬∞C superficial), pero si no puedes tocarlo m√°s de 2 segundos, revisa la corriente. Cuida el cableado: pares trenzados y blindaje reducen interferencias cuando el cable es largo. Documenta la secuencia de cables: usa etiquetas o conectores para evitar errores de conexi√≥n. Con una selecci√≥n adecuada y un driver bien configurado, los motores a pasos ofrecen precisi√≥n repetible, costos razonables y un ecosistema maduro para proyectos de automatizaci√≥n, rob√≥tica y fabricaci√≥n digital.\n","date":"March 15, 2024","hero":"/images/default-hero.jpg","permalink":"https://ingeniummx.github.io/posts/electronica/qu%C3%A9-es-un-motor-a-pasos-y-c%C3%B3mo-aprovecharlo/","summary":"\u003cp\u003eLos \u003cstrong\u003emotores a pasos\u003c/strong\u003e (stepper motors) convierten pulsos el√©ctricos en \u003cstrong\u003emovimientos angulares discretos\u003c/strong\u003e. En cada paso el eje gira un √°ngulo fijo (1,8¬∞, 0,9¬∞, etc.), por lo que podemos posicionar cargas sin retroalimentaci√≥n mec√°nica adicional.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"c√≥mo-funciona-un-motor-a-pasos\"\u003e¬øC√≥mo funciona un motor a pasos?\u003c/h2\u003e\n\u003cp\u003eUn motor a pasos t√≠pico tiene:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eEstator\u003c/strong\u003e con varias bobinas agrupadas en fases.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eRotor\u003c/strong\u003e dentado con imanes permanentes o material ferroso.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eSecuencia de excitaci√≥n\u003c/strong\u003e: aplicar corriente a las bobinas en un orden preciso genera un campo magn√©tico rotatorio que ‚Äúarrastra‚Äù al rotor.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eCada vez que cambiamos la fase energizada el rotor avanza un \u003cstrong\u003epaso\u003c/strong\u003e. Si completamos (N) pasos obtenemos una vuelta completa, y podemos calcular los pasos por vuelta como:\u003c/p\u003e","tags":["Motores a pasos","CNC","Impresi√≥n 3D","Control de motores","Electr√≥nica de potencia"],"title":"¬øQu√© es un motor a pasos y c√≥mo aprovecharlo?"}]